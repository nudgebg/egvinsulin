
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../recommendations/">
      
      
        <link rel="next" href="../checklist/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.36">
    
    
      
        <title>Code Reference - Babelbetes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.06209087.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../style.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#run_functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Babelbetes" class="md-header__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Babelbetes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Code Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Babelbetes" class="md-nav__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Babelbetes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Babelbetes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Supported Datasets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Supported Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_sets/IOBP2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IOBP2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_sets/DCLP3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DCLP3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_sets/DCLP5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DCLP5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_sets/PEDAP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PEDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_sets/FLAIR/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FLAIR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_sets/LOOP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LOOP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_sets/T1DEXI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DExi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_sets/T1DEXIP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DEXIP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_sets/REPLACE_BG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Replace BG
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../recommendations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Better Datasets
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Toolbox Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Toolbox Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#run_functions" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;run_functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" run_functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run_functions--output-format" class="md-nav__link">
    <span class="md-ellipsis">
      Output format:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Output format:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run_functions--boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Boluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions--basal-rates" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Rates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions--cgm-continuous-glucose-monitor" class="md-nav__link">
    <span class="md-ellipsis">
      CGM (Continuous Glucose Monitor)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions--output-files" class="md-nav__link">
    <span class="md-ellipsis">
      Output Files:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions.main" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions.process_folder" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;process_folder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.studydataset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;studydataset
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" studydataset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StudyDataset
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" StudyDataset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.extract_basal_event_history" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;extract_basal_event_history
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.extract_bolus_event_history" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;extract_bolus_event_history
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.extract_cgm_history" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;extract_cgm_history
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.load_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;load_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.save_basal_event_history_to_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_basal_event_history_to_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.save_bolus_event_history_to_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_bolus_event_history_to_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.save_cgm_to_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_cgm_to_file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.iobp2.IOBP2" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IOBP2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.flair.Flair" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Flair
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Flair">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#studies.flair.Flair.get_reported_tdds" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_reported_tdds
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.pedap.PEDAP" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PEDAP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.dclp.DCLP3" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DCLP3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.dclp.DCLP5" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DCLP5
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.loop.Loop" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Loop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.t1dexi.T1DEXI" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;T1DEXI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.t1dexi.T1DEXIP" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;T1DEXIP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.replacebg.ReplaceBG" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReplaceBG
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;src
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" src">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.cdf" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;cdf
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" cdf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.cdf.get_cdf" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_cdf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.cdf.plot_cdf" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;plot_cdf
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.date_helper" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;date_helper
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" date_helper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.date_helper.convert_duration_to_timedelta" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;convert_duration_to_timedelta
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.date_helper.parse_flair_dates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;parse_flair_dates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;drawing
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" drawing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.drawing.create_axis" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawAbsoluteBasalRates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawAbsoluteBasalRates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawBasal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawBasal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawBoluses" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawBoluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawCGM" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawCGM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawExtendedBoluses" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawExtendedBoluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawSuspendTimes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawSuspendTimes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawTempBasal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawTempBasal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.parse_duration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;parse_duration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.find_periods" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;find_periods
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" find_periods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.find_periods.find_periods" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;find_periods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.logger" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;logger
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.logger.Logger" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Logger
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.logger.Logger.get_logger" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_logger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;pandas_helper
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" pandas_helper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.count_differences_in_duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;count_differences_in_duplicates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.extract_surrounding_rows" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;extract_surrounding_rows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.get_duplicated_max_indexes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_duplicated_max_indexes
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" get_duplicated_max_indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.get_duplicated_max_indexes--example-usage-get-duplicated-max-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Example usage get duplicated max indexes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.grouped_value_counts" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;grouped_value_counts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.head_tail" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;head_tail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.overlaps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;overlaps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.split_groups" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;split_groups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.split_sequences" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;split_sequences
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.postprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;postprocessing
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" postprocessing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.postprocessing.basal_transform" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;basal_transform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.postprocessing.bolus_transform" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;bolus_transform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.postprocessing.cgm_transform" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;cgm_transform
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.tdd" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;tdd
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" tdd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.tdd.calculate_daily_basal_dose" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;calculate_daily_basal_dose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.tdd.calculate_daily_bolus_dose" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;calculate_daily_bolus_dose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.tdd.calculate_tdd" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;calculate_tdd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.tdd.durations_since_previous_valid_value" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;durations_since_previous_valid_value
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../checklist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Study Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Pracitces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Environments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribute
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../snippets/license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#run_functions" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;run_functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" run_functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run_functions--output-format" class="md-nav__link">
    <span class="md-ellipsis">
      Output format:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Output format:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run_functions--boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Boluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions--basal-rates" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Rates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions--cgm-continuous-glucose-monitor" class="md-nav__link">
    <span class="md-ellipsis">
      CGM (Continuous Glucose Monitor)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions--output-files" class="md-nav__link">
    <span class="md-ellipsis">
      Output Files:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions.main" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_functions.process_folder" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;process_folder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.studydataset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;studydataset
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" studydataset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StudyDataset
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" StudyDataset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.extract_basal_event_history" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;extract_basal_event_history
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.extract_bolus_event_history" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;extract_bolus_event_history
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.extract_cgm_history" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;extract_cgm_history
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.load_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;load_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.save_basal_event_history_to_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_basal_event_history_to_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.save_bolus_event_history_to_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_bolus_event_history_to_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#studies.studydataset.StudyDataset.save_cgm_to_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_cgm_to_file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.iobp2.IOBP2" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IOBP2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.flair.Flair" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Flair
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Flair">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#studies.flair.Flair.get_reported_tdds" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_reported_tdds
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.pedap.PEDAP" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PEDAP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.dclp.DCLP3" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DCLP3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.dclp.DCLP5" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DCLP5
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.loop.Loop" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Loop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.t1dexi.T1DEXI" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;T1DEXI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.t1dexi.T1DEXIP" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;T1DEXIP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studies.replacebg.ReplaceBG" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReplaceBG
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;src
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" src">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.cdf" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;cdf
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" cdf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.cdf.get_cdf" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_cdf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.cdf.plot_cdf" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;plot_cdf
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.date_helper" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;date_helper
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" date_helper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.date_helper.convert_duration_to_timedelta" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;convert_duration_to_timedelta
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.date_helper.parse_flair_dates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;parse_flair_dates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;drawing
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" drawing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.drawing.create_axis" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawAbsoluteBasalRates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawAbsoluteBasalRates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawBasal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawBasal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawBoluses" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawBoluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawCGM" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawCGM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawExtendedBoluses" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawExtendedBoluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawSuspendTimes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawSuspendTimes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.drawTempBasal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;drawTempBasal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.drawing.parse_duration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;parse_duration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.find_periods" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;find_periods
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" find_periods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.find_periods.find_periods" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;find_periods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.logger" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;logger
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.logger.Logger" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Logger
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Logger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.logger.Logger.get_logger" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_logger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;pandas_helper
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" pandas_helper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.count_differences_in_duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;count_differences_in_duplicates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.extract_surrounding_rows" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;extract_surrounding_rows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.get_duplicated_max_indexes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_duplicated_max_indexes
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" get_duplicated_max_indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.get_duplicated_max_indexes--example-usage-get-duplicated-max-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Example usage get duplicated max indexes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.grouped_value_counts" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;grouped_value_counts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.head_tail" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;head_tail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.overlaps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;overlaps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.split_groups" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;split_groups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.pandas_helper.split_sequences" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;split_sequences
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.postprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;postprocessing
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" postprocessing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.postprocessing.basal_transform" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;basal_transform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.postprocessing.bolus_transform" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;bolus_transform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.postprocessing.cgm_transform" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;cgm_transform
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.tdd" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;tdd
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" tdd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.tdd.calculate_daily_basal_dose" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;calculate_daily_basal_dose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.tdd.calculate_daily_bolus_dose" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;calculate_daily_bolus_dose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.tdd.calculate_tdd" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;calculate_tdd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.tdd.durations_since_previous_valid_value" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;durations_since_previous_valid_value
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Code Reference</h1>

<p>This part of the project documentation focuses on
an <strong>information-oriented</strong> approach. Use it as a
reference for the technical implementation of the
<code>BabelBetes</code> project code.</p>


<div class="doc doc-object doc-module">



<h3 id="run_functions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>run_functions</code>


</h3>

    <div class="doc doc-contents first">

        <p>run_functions.py</p>
<p>This script performs data normalization on raw study data found in the <code>data/raw</code> directory.</p>


<details class="execution" open>
  <summary>Execution</summary>
  <p>python run_functions.py</p>
</details>        <p>Process Overview:
1. Identifies the appropriate handler class (subclass of studydataset) for each folder in the <code>data/raw</code> directory (see supported studies).
2. Loads the study data into memory.
3. Extracts bolus, basal, and CGM event histories into a standardized format (see Output Format).
4. Saves the extracted data as CSV files.</p>
<h5 id="run_functions--output-format">Output format:</h5>
<p>The outptut format is standardized across all studies and follows the definitions of the studydataset base class.</p>
<h6 id="run_functions--boluses">Boluses</h6>
<p><code>bolus_history.csv</code>: Event stream of all bolus delivery events. Standard boluses are assumed to be delivered immediately.</p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>patient_id</td>
<td>str</td>
<td>Patient ID</td>
</tr>
<tr>
<td>datetime</td>
<td>pd.Timestamp</td>
<td>Datetime of the bolus event</td>
</tr>
<tr>
<td>bolus</td>
<td>float</td>
<td>Actual delivered bolus amount in units</td>
</tr>
<tr>
<td>delivery_duration</td>
<td>pd.Timedelta</td>
<td>Duration of the bolus delivery</td>
</tr>
</tbody>
</table>
<h6 id="run_functions--basal-rates">Basal Rates</h6>
<p><code>basal_history.csv:</code>Event stream of basal rates, accounting for temporary basal adjustments, pump suspends, and closed-loop modes. The basal rates are active until the next rate is reported.</p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>patient_id</td>
<td>str</td>
<td>Patient ID</td>
</tr>
<tr>
<td>datetime</td>
<td>pd.Timestamp</td>
<td>Datetime of the basal rate start event</td>
</tr>
<tr>
<td>basal_rate</td>
<td>float</td>
<td>Basal rate in units per hour</td>
</tr>
</tbody>
</table>
<h6 id="run_functions--cgm-continuous-glucose-monitor">CGM (Continuous Glucose Monitor)</h6>
<p><code>cgm_history.csv</code>: Event stream of CGM values.</p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>patient_id</td>
<td>str</td>
<td>Patient ID</td>
</tr>
<tr>
<td>datetime</td>
<td>pd.Timestamp</td>
<td>Datetime of the CGM measurement</td>
</tr>
<tr>
<td>cgm</td>
<td>float</td>
<td>CGM value in mg/dL</td>
</tr>
</tbody>
</table>
<h6 id="run_functions--output-files">Output Files:</h6>
<p>For each study, the dataframes are saved in the <code>data/out/&lt;study-name&gt;/</code> folder:
 - To reduce file size, the data is saved in a compressed format using the <code>gzip</code>
 - datetimes and timedeltas are saved as unix timestamps (seconds) and integers (seconds) respectively.
 - boluses and basals are rounded to 4 decimal places
 - cgm values are converted to integers</p>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="run_functions.main" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">main</span><span class="p">(</span><span class="n">load_subset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Main function to process study data folders.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>load_subset</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, runs the script on a limited amount of data (e.g. skipping rows)</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="logs" open>
  <summary>Logs</summary>
  <ul>
<li>Information about the current working directory and paths being used.</li>
<li>Warnings for folders that do not match any known study patterns.</li>
<li>Errors if no supported studies are found.</li>
<li>Progress of processing each matched study folder.</li>
</ul>
</details>

<details class="the-function-performs-the-following-steps" open>
  <summary>The function performs the following steps</summary>
  <ol>
<li>Determines the input and output paths based on the <code>test</code> flag.</li>
<li>Identifies study folders in the input path.</li>
<li>Matches study folders to predefined patterns and logs unmatched folders.</li>
<li>Processes each matched study folder and logs the progress using <code>tqdm</code>.</li>
</ol>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="run_functions.process_folder" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">process_folder</span><span class="p">(</span><span class="n">study</span><span class="p">,</span> <span class="n">out_path_study</span><span class="p">,</span> <span class="n">progress</span><span class="p">,</span> <span class="n">load_subset</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Processes the data for a given study by loading, extracting, and resampling bolus, basal, and glucose events.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>study</code></td>
            <td>
                  <code><span title="object">object</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An instance of a study class that contains methods to load and extract data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>out_path_study</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The output directory path where the processed data will be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>progress</code></td>
            <td>
                  <code><span title="tqdm.tqdm">tqdm</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tqdm progress bar object to display the progress of the processing steps.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="steps" open>
  <summary>Steps</summary>
  <ol>
<li>Loads the study data.</li>
<li>Extracts bolus event history and saves it as a CSV file.</li>
<li>Extracts basal event history and saves it as a CSV file.</li>
<li>Extracts continuous glucose monitoring (CGM) history and saves it as a CSV file.
Each step updates the progress bar and logs the current status.</li>
</ol>
</details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="studies.studydataset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>studies.studydataset</code>


</h3>

    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="studies.studydataset.StudyDataset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>StudyDataset</code>


</h4>


    <div class="doc doc-contents ">


        <p>The <code>StudyDataset</code> class is designed to handle and validate data related to a medical study.
It has a member variable <code>df</code> which is a pandas DataFrame that holds the data.
The class is initialized with a <code>study_path</code> which is the path to the study directory</p>
<p>The class has several methods:</p>
<ul>
<li>
<p><code>load_data</code>: This method is automatically called before extracting data. However, it can also be called up-front. After data was loaded 
    the member variable <code>data_loaded</code> is set to True. It calls the <code>_load_data</code> method which should be implemented by subclasses.</p>
</li>
<li>
<p><code>extract_bolus_event_history</code>, <code>extract_basal_event_history</code>, and <code>extract_cgm_history</code>:
  These methods are designed to extract specific types of data from the DataFrame.
  They are decorated with <code>validate_bolus_output_dataframe</code>, <code>validate_basal_output_dataframe</code>,
  and <code>validate_cgm_output_dataframe</code> respectively, which validate the output data.
  These methods should not be overridden by subclasses. Instead, subclasses should implement the corresponding <code>_extract_*</code> methods.</p>
</li>
<li>
<p><code>_extract_bolus_event_history</code>, <code>_extract_basal_event_history</code>, and <code>_extract_cgm_history</code>:
  These methods are meant to be overridden by subclasses to extract specific types of data from the DataFrame.</p>
</li>
</ul>
<p>The returned dataframes are as follows:</p>
<ul>
<li>
<p>For bolus event history: The DataFrame should have the columns 'patient_id' (string),
  'datetime' (pandas datetime), 'bolus' (float), and 'delivery_duration' (pandas timedelta).</p>
</li>
<li>
<p>For basal event history: The DataFrame should have the columns 'patient_id' (string),
  'datetime' (pandas datetime), and 'basal_rate' (float).</p>
</li>
<li>
<p>For cgm history: The DataFrame should have the columns 'patient_id' (string),
  'datetime' (pandas datetime), and 'cgm' (float).</p>
</li>
</ul>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="studies.studydataset.StudyDataset.extract_basal_event_history" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">extract_basal_event_history</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Extract basal event history from the dataset. 
This method does do type checking on the output data and should not be overriden by subclasses. 
Instead, subclasses should implement the _extract_basal_event_history method.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>basal_event_history</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DataFrame containing the basal event history. The DataFrame should have the following columns:</p>
<ul>
<li><code>patient_id</code>: A string representing the patient ID</li>
<li><code>datetime</code>: A pandas datetime object representing the date and time of the basal event</li>
<li><code>basal_rate</code>: A float representing the basal rate in units per hour</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="studies.studydataset.StudyDataset.extract_bolus_event_history" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">extract_bolus_event_history</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Extract bolus event history from the dataset. </p>
<p>This method does do type checking on the output data and should not be overriden
by subclasses. Instead, subclasses should implement the _extract_bolus_event_history method.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bolus_events</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DataFrame containing the bolus event history. The DataFrame should have the following columns:</p>
<ul>
<li><code>patient_id</code>: A string representing the patient ID</li>
<li><code>datetime</code>: A pandas datetime object representing the date and time of the bolus event</li>
<li><code>bolus</code>: A float representing the bolus amount in units</li>
<li><code>delivery_duration</code>: A pandas timedelta object representing the duration of the bolus delivery.
For standard boluses the delivery duration is 0 seconds, for extended boluses,
these are the duration of the extended delivery.</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="studies.studydataset.StudyDataset.extract_cgm_history" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">extract_cgm_history</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Extract cgm measurements from the dataset. This method does
do type checking on the output data and should not be overriden
by subclasses. Instead, subclasses should implement the _extract_cgm_history method.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>cgm_measurements</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DataFrame containing the cgm measurements. The DataFrame should have the following columns:</p>
<ul>
<li><code>patient_id</code>: A string representing the patient ID</li>
<li><code>datetime</code>: A pandas datetime object representing the date and time of the cgm measurement</li>
<li><code>cgm</code>: A float representing the cgm value in mg/dL</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="studies.studydataset.StudyDataset.load_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">load_data</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Method to load the data from the study directory. </p>
<p>This method should be called before extracting any data from the dataset. 
This method should not be overridden by subclasses. Instead, subclasses should implement the _load_data method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>subset</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Should only load a small subset of the data for testing purposes. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="studies.studydataset.StudyDataset.save_basal_event_history_to_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">save_basal_event_history_to_file</span><span class="p">(</span><span class="n">out_path</span><span class="p">,</span> <span class="n">compressed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Save the basal event history to a file.
This method extracts the basal event history, processes it to reduce file size,
and saves it to a specified output directory. If the directory does not exist,
it will be created. The filenames follow the pattern <study_name>_basal_event_history.csv(.gz) </p>
<p>The output format is as follows: csv file with the following columns:
- patient_id: A string representing the patient ID
- datetime: integer representing the local timestamp in seconds since epoch
- basal_rate: A float representing the basal rate in units per hour</p>
<p>Example csv output:   </p>
<pre><code>patient_id,datetime,basal_rate
10,1522846361,2.0
10,1522846661,0.0
10,1522872700,1.0
</code></pre>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>out_path</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the output directory where the file will be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>compressed</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the output file will be compressed. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    None</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="studies.studydataset.StudyDataset.save_bolus_event_history_to_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">save_bolus_event_history_to_file</span><span class="p">(</span><span class="n">out_path</span><span class="p">,</span> <span class="n">compressed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Save the bolus event history to a file.
This method extracts the bolus event history, processes it to reduce file size,
and saves it to a specified output directory. If the directory does not exist,
it will be created. The filenames follow the pattern <study_name>_bolus_event_history.csv(.gz)</p>
<p>The output csv format is as follows:
- patient_id: A string representing the patient ID
- datetime: integer representing the local timestamp in seconds since epoch
- bolus: A float representing the bolus amount in units (2 decimal places)
- delivery_duration: integer representing the duration of the bolus delivery in seconds</p>
<p>Example csv output:   </p>
<pre><code>patient_id,datetime,bolus,delivery_duration
10,1522847353,0.1,0
10,1522852851,7.45,0
10,1523040411,4.449,7200
</code></pre>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>out_path</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the output directory where the file will be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>compressed</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the output file will be compressed. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    None</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="studies.studydataset.StudyDataset.save_cgm_to_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">save_cgm_to_file</span><span class="p">(</span><span class="n">out_path</span><span class="p">,</span> <span class="n">compressed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Save the cgm history to a file.
This method extracts the cgm history, processes it to reduce file size,
and saves it to a specified output directory. If the directory does not exist,
it will be created. The filenames follow the pattern <study_name>_cgm_history.csv(.gz)</p>
<p>The output csv format is as follows:
- patient_id: A string representing the patient ID
- datetime: integer representing the local timestamp in seconds since epoch
- cgm: A integer representing the cgm value in mg/dL</p>
<p>Example csv output:   </p>
<pre><code>patient_id,datetime,cgm
10,1524150016,88
10,1524150270,85
10,1524150568,81
</code></pre>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>out_path</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the output directory where the file will be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>compressed</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the output file will be compressed. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="studies.iobp2.IOBP2" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>studies.iobp2.IOBP2</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="studies.studydataset.StudyDataset" href="#studies.studydataset.StudyDataset">StudyDataset</a></code></p>





  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="studies.flair.Flair" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>studies.flair.Flair</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="studies.studydataset.StudyDataset" href="#studies.studydataset.StudyDataset">StudyDataset</a></code></p>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="studies.flair.Flair.get_reported_tdds" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_reported_tdds</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;max&#39;</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Retrieves reported total daily doses (TDDs) based on the specified method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>method</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method to use for retrieving the TDDs. 
- 'max': Returns the TDD with the maximum reported value for each patient and date.
- 'sum': Returns the sum of all reported TDDs for each patient and date.
- 'latest': Returns the TDD with the latest reported datetime for each patient and date.
- 'all': Returns all TDDs without any grouping or filtering.</p>
              </div>
            </td>
            <td>
                  <code>&#39;max&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the retrieved TDDs based on the specified method.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the method is not one of: 'max', 'sum', 'latest', 'all'.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="studies.pedap.PEDAP" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>studies.pedap.PEDAP</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="studies.studydataset.StudyDataset" href="#studies.studydataset.StudyDataset">StudyDataset</a></code></p>





  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="studies.dclp.DCLP3" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>studies.dclp.DCLP3</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="studies.studydataset.StudyDataset" href="#studies.studydataset.StudyDataset">StudyDataset</a></code></p>





  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="studies.dclp.DCLP5" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>studies.dclp.DCLP5</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="studies.dclp.DCLP3" href="#studies.dclp.DCLP3">DCLP3</a></code></p>





  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="studies.loop.Loop" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>studies.loop.Loop</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="studies.studydataset.StudyDataset" href="#studies.studydataset.StudyDataset">StudyDataset</a></code></p>





  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="studies.t1dexi.T1DEXI" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>studies.t1dexi.T1DEXI</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="studies.studydataset.StudyDataset" href="#studies.studydataset.StudyDataset">StudyDataset</a></code></p>





  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="studies.t1dexi.T1DEXIP" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>studies.t1dexi.T1DEXIP</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="studies.t1dexi.T1DEXI" href="#studies.t1dexi.T1DEXI">T1DEXI</a></code></p>





  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="studies.replacebg.ReplaceBG" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>studies.replacebg.ReplaceBG</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="studies.studydataset.StudyDataset" href="#studies.studydataset.StudyDataset">StudyDataset</a></code></p>





  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="src" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>src</code>


</h3>

    <div class="doc doc-contents first">



  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h4 id="src.cdf" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>cdf</code>


</h4>

    <div class="doc doc-contents ">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="src.cdf.get_cdf" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_cdf</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Get the Cumulative Distribution Function (CDF) of a data array.</p>
<p>Parameters:
data (array-like): The data array for which the CDF is to be calculated.</p>
        <p>tuple: A tuple containing two elements:
    - data_sorted (array-like): The sorted data array.
    - cdf (array-like): The CDF values.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.cdf.plot_cdf" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">plot_cdf</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;CDF&#39;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Value&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;CDF&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Plots the Cumulative Distribution Function (CDF) of a data array.</p>
<p>Parameters:
data (array-like): The data array for which the CDF is to be plotted.
title (str): The title of the plot.
xlabel (str): The label for the x-axis.
ylabel (str): The label for the y-axis.</p>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="src.date_helper" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>date_helper</code>


</h4>

    <div class="doc doc-contents ">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="src.date_helper.convert_duration_to_timedelta" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">convert_duration_to_timedelta</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Parse a duration string in the format "hours:minutes:seconds" and return a timedelta object.
Args:
    duration_str (str): The duration string to parse in the form of "hours:minutes:seconds".
Returns:
    timedelta: A timedelta object representing the parsed duration.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.date_helper.parse_flair_dates" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">parse_flair_dates</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">format_date</span><span class="o">=</span><span class="s1">&#39;%m/</span><span class="si">%d</span><span class="s1">/%Y&#39;</span><span class="p">,</span> <span class="n">format_time</span><span class="o">=</span><span class="s1">&#39;%I:%M:%S %p&#39;</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Parse date strings separately for those with/without time component, interpret those without as midnight (00AM)
Args:
    dates (pd.DataFrame): datetimes (string) either in in the %m/%d/%Y or %m/%d/%Y %I:%M:%S %p format
Returns:
    pandas series: with parsed dates</p>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="src.drawing" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>drawing</code>


</h4>

    <div class="doc doc-contents ">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="src.drawing.create_axis" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">create_axis</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a new figure and axis for plotting.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>figure</code></td>            <td>
                  <code><span title="matplotlib.figure.Figure">Figure</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The created figure.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>axes</code></td>            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The created axis.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.drawing.drawAbsoluteBasalRates" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">drawAbsoluteBasalRates</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">datetimes</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Draws the absolute basal rates on the given axes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ax</code></td>
            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axes on which to draw the basal rates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>datetimes</code></td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An array of datetime objects representing the time points.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rate</code></td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An array of basal rates corresponding to the time points.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments to customize the plot. Possible keys include:  </p>
<ul>
<li>'hatch' (str): The hatch pattern for the plot. Default is '//'.</li>
<li>'label' (str): The label for the plot. Default is 'true basal rate'.</li>
<li>'edgecolor' (str): The edge color for the plot. Default is 'black'.</li>
</ul>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.drawing.drawBasal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">drawBasal</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">datetimes</span><span class="p">,</span> <span class="n">rates</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;Basal&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Draws the basal rates on the given axes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ax</code></td>
            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axes on which to draw the basal rates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>datetimes</code></td>
            <td>
                  <code>list of datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of datetime objects representing the time points.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rates</code></td>
            <td>
                  <code>list of float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of basal rates corresponding to the datetime points.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>color</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Color for the basal rates plot. Defaults to colors['Basal'].</p>
              </div>
            </td>
            <td>
                  <code><span title="src.drawing.colors">colors</span>[&#39;Basal&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments to customize the plot.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.drawing.drawBoluses" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">drawBoluses</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">datetimes</span><span class="p">,</span> <span class="n">boluses</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Draws insulin boluses events on a given matplotlib axis.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ax</code></td>
            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axis on which to draw the boluses.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>datetimes</code></td>
            <td>
                  <code>list of datetime.datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of datetime objects representing the times of the boluses.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>boluses</code></td>
            <td>
                  <code>list of float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of bolus values corresponding to the datetimes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments passed to the ax.bar() method.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.drawing.drawCGM" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">drawCGM</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">datetimes</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;CGM&#39;</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;mg/dL&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Draws CGM (Continuous Glucose Monitoring) data on the given axes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ax</code></td>
            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axes on which to draw the CGM data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>datetimes</code></td>
            <td>
                  <code>list of datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of datetime objects representing the time points.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>values</code></td>
            <td>
                  <code>list of float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of glucose values corresponding to the datetime points.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>color</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Color for the CGM plot. Defaults to colors['CGM'].</p>
              </div>
            </td>
            <td>
                  <code><span title="src.drawing.colors">colors</span>[&#39;CGM&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments to customize the plot.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.drawing.drawExtendedBoluses" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">drawExtendedBoluses</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">datetimes</span><span class="p">,</span> <span class="n">boluses_units</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;Bolus&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Draws extended boluses on the given axes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ax</code></td>
            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axes on which to draw the boluses.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>datetimes</code></td>
            <td>
                  <code>list of datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of datetime objects representing the times of the boluses.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>boluses_units</code></td>
            <td>
                  <code>list of float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of bolus units corresponding to each datetime.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>duration</code></td>
            <td>
                  <code>list of numpy.timedelta</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of delivery duration for each bolus.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>color</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Color of the boluses. Default is colors['Bolus'].</p>
              </div>
            </td>
            <td>
                  <code><span title="src.drawing.colors">colors</span>[&#39;Bolus&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments to pass to the bar function.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.drawing.drawSuspendTimes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">drawSuspendTimes</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Draws a bar on the given axis to represent suspend times.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ax</code></td>
            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axis on which to draw the bar.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>start_date</code></td>
            <td>
                  <code><span title="datetime">datetime</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The starting date and time for the bar.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>duration</code></td>
            <td>
                  <code><span title="numpy.timedelta">timedelta</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The duration for which the bar extends.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.drawing.drawTempBasal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">drawTempBasal</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">datetimes</span><span class="p">,</span> <span class="n">temp_basal_rates</span><span class="p">,</span> <span class="n">temp_basal_durations</span><span class="p">,</span> <span class="n">temp_basal_types</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;Basal&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Draws temporary basal rates on the given axes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ax</code></td>
            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axes on which to draw the temporary basal rates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>datetimes</code></td>
            <td>
                  <code>list of datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of datetime objects representing the times of the temporary basal rates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>temp_basal_rates</code></td>
            <td>
                  <code>list of float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of temporary basal rates corresponding to the datetimes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>temp_basal_durations</code></td>
            <td>
                  <code>list of numpy.timedelta</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of temporary basal durations corresponding to the datetimes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>color</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Color of the temporary basal rates. Default is colors['Basal'].</p>
              </div>
            </td>
            <td>
                  <code><span title="src.drawing.colors">colors</span>[&#39;Basal&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments passed to the ax.bar() method.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.drawing.parse_duration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">parse_duration</span><span class="p">(</span><span class="n">duration_str</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Parses a duration string in the format "HH:MM:SS" and returns a timedelta object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>duration_str</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string representing the duration in the format "HH:MM:SS".</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    timedelta: A timedelta object representing the parsed duration.</p>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="src.find_periods" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>find_periods</code>


</h4>

    <div class="doc doc-contents ">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="src.find_periods.find_periods" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">find_periods</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">value_col</span><span class="p">,</span> <span class="n">time_col</span><span class="p">,</span> <span class="n">start_trigger_fun</span><span class="p">,</span> <span class="n">stop_trigger_fun</span><span class="p">,</span> <span class="n">use_last_start_occurence</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Find periods in a DataFrame based on start and stop triggers.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame to search for periods.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>value_col</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the trigger values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>time_col</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing the time values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>start_trigger_fun</code></td>
            <td>
                  <code><span title="callable">callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value that indicates the start of a period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stop_trigger_fun</code></td>
            <td>
                  <code><span title="callable">callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value that indicates the end of a period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>use_last_start_occurence</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the last occurrence of the start trigger will be used.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of named tuples representing the periods found. Each namedtuple contains the following attributes:
- start_index (int): The index of the start trigger in the DataFrame.
- end_index (int): The index of the stop trigger in the DataFrame.
- start_time: The time value of the start trigger.
- end_time: The time value of the stop trigger.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="src.logger" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>logger</code>


</h4>

    <div class="doc doc-contents ">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h5 id="src.logger.Logger" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>Logger</code>


</h5>


    <div class="doc doc-contents ">





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h6 id="src.logger.Logger.get_logger" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_logger</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a configured logger instance with the specified name and log level.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>name</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the logger.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>level</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The logging level (e.g., logging.INFO, logging.DEBUG).</p>
              </div>
            </td>
            <td>
                  <code><span title="logging.DEBUG">DEBUG</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="logging.Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>logging.Logger: Configured logger.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="src.pandas_helper" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>pandas_helper</code>


</h4>

    <div class="doc doc-contents ">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="src.pandas_helper.count_differences_in_duplicates" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">count_differences_in_duplicates</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Counts the number of differences between duplicated rows for all columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>series</code></td>            <td>
                  <code><span title="pandas.Series">Series</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A series where the index represents column names and values represent the count of differences.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.pandas_helper.extract_surrounding_rows" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">extract_surrounding_rows</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">sort_by</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Extracts rows surrounding a given index after sorting the DataFrame by a subset of columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>index</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The row index to center on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of rows before and after the given index to extract (using logical indexing).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>sort_by</code></td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of column names to sort the DataFrame by.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    pd.DataFrame: A DataFrame containing the extracted rows.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.pandas_helper.get_duplicated_max_indexes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_duplicated_max_indexes</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">check_cols</span><span class="p">,</span> <span class="n">max_col</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Find duplicate indexes, maximum indexes, and indexes to drop in a dataframe.</p>
<p>Args:
df (pd.DataFrame): The dataframe to check for duplicates.
check_cols (list): The columns to check for duplicates.
max_col (str): The column to use for keeping the maximum value.</p>
        <p>tuple: A tuple containing three elements:
    - duplicated_indexes (np.array): Indexes of duplicated rows.
    - max_indexes (np.array): Indexes of rows with the maximum value in the max_col.
    - drop_indexes (np.array): Indexes of rows to drop.</p>


<details class="example" open>
  <summary>Example</summary>
  <h6 id="src.pandas_helper.get_duplicated_max_indexes--example-usage-get-duplicated-max-indexes">Example usage get duplicated max indexes</h6>
<p>df = pd.DataFrame({
    'PtID': [1, 1, 1, 2, 2, 2, 3, 3, 3, 1],
    'DataDtTm': [1, 2, 3, 1, 2, 2, 1, 1, 1, 2],
    'CGMValue': [1, 2, 3, 1, 2, 3, 4, 2, 3, 3]
})
dup_indexes, max_indexes, drop_indexes = get_duplicated_max_indexes(df, ['PtID', 'DataDtTm'], 'CGMValue')
print(df.drop(drop_indexes))</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.pandas_helper.grouped_value_counts" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">grouped_value_counts</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">group_cols</span><span class="p">,</span> <span class="n">value_cols</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Count the number of NaN, Non-NaN, and Zero values in each group of a DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>group_cols</code></td>
            <td>
                  <code><span title="str">str</span> or <span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column(s) to group by.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>value_cols</code></td>
            <td>
                  <code><span title="str">str</span> or <span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column(s) to count values for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dataframe</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DataFrame containing the count of NaN, Non-NaN, and Zero values for each group.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.pandas_helper.head_tail" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">head_tail</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Returns the first n rows and the last n rows of a DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame to get the head and tail of.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of rows to return from the head and tail of the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dataframe</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new pandas dataframe containing   </p>
<ul>
<li>The first n rows of the DataFrame.  </li>
<li>The last n rows of the DataFrame.</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.pandas_helper.overlaps" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">overlaps</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">datetime_col</span><span class="p">,</span> <span class="n">duration_col</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Check for overlapping intervals in a DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DataFrame containing at least two columns:
  - 'datetime_col': Start times of the intervals.
  - 'duration_col': Durations of the intervals.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    pd.Series: A boolean Series indicating whether each interval overlaps
    with the next interval</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.pandas_helper.split_groups" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">split_groups</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Assigns unique group IDs based on the distance between consecutive values.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code><span title="pandas.Series">Series</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Series of numerical values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>threshold</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum duration between two consecutive values to consider them in the same group.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.Series">Series</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Series containing the data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>df = pd.DataFrame({'sensor': ['a', 'a', 'b', 'b', 'a', 'a', 'a', 'a', 'b', 'b', 'b', 'b'],
                   'y': [0, 1, 2, 3, 10, 11, 12, 13, 50, 51, 70, 71]})
df['sensor_session'] = df.groupby('sensor').y.transform(lambda x: split_groups(x, 5))
start_ends = df.groupby(['sensor', 'sensor_session']).y.agg(['idxmin','idxmax']).reset_index()</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.pandas_helper.split_sequences" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">split_sequences</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">label_col</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Assigns a unique group ID to each sequence of consecutive labels.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>label_col</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name for the labels.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>group_ids</code></td>            <td>
                  <code><span title="pandas.Series">Series</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The group IDs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>df = pd.DataFrame({'label': ['A', 'A', 'B', 'B', 'B', 'A', 'A', 'C', 'C', 'A']})
df['sequence'] = split_sequences(df, 'label')
print(df)
start_ends = df.groupby(['label', 'sequence']).apply(lambda group: pd.Series({
    'idxmin': group.index.min(),
    'idxmax': group.index.max()
}),include_groups=False).reset_index()
print(start_ends)</p>
</details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="src.postprocessing" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>postprocessing</code>


</h4>

    <div class="doc doc-contents ">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="src.postprocessing.basal_transform" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">basal_transform</span><span class="p">(</span><span class="n">basal_data</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Transform the basal data by aligning timestamps and handling duplicates.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>basal_data</code></td>
            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input is a basal data dataframe containing columns 'datetime', and 'basal_rate'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>basal_data</code></td>            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The transformed basal equivalent deliveries with aligned timestamps and duplicates removed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.postprocessing.bolus_transform" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">bolus_transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Transform the bolus data by aligning timestamps, handling duplicates, and extending boluses based on durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input is a bolus data dataframe containing columns 'datetime', 'bolus', and 'delivery_duration'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bolus_data</code></td>            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>5 Minute resampled and time aligned at midnight bolus data with columns: datetime, delivery</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.postprocessing.cgm_transform" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">cgm_transform</span><span class="p">(</span><span class="n">cgm_data</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Time aligns the cgm data to midnight with a 5 minute sampling rate.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>cgm_data</code></td>
            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input is a cgm data dataframe containing columns 'datetime', and 'cgm'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>cgm_data</code></td>            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The transformed cgm data with aligned timestamps.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="src.tdd" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>tdd</code>


</h4>

    <div class="doc doc-contents ">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="src.tdd.calculate_daily_basal_dose" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">calculate_daily_basal_dose</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Calculate the Total Daily Dose (TDD) of basal insulin for each day in the given DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the insulin data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>tdds</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dataframe with two columns: <code>date</code> and <code>dose</code> golding the daily total basal dose. </p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="required-column-names" open>
  <summary>Required Column Names</summary>
  <ul>
<li>datetime: The timestamp of each basal insulin rate event.</li>
<li>basal_rate: The basal insulin rate event [U/hr].</li>
</ul>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.tdd.calculate_daily_bolus_dose" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">calculate_daily_bolus_dose</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Calculate the daily bolus dose for each patient.
Parameters:
    df (pandas.DataFrame): The input DataFrame containing the following columns:
        - datetime (datetime): The date and time of the bolus dose.
        - bolus (float): The amount of bolus dose.
Returns:
    pandas.DataFrame: A DataFrame with the daily bolus dose for each patient, grouped by patient_id and date.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.tdd.calculate_tdd" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">calculate_tdd</span><span class="p">(</span><span class="n">df_bolus</span><span class="p">,</span> <span class="n">df_basal</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Calculates the total daily dose (TDD) by merging the daily basal dose and daily bolus dose.
Parameters:
df_bolus (DataFrame): DataFrame containing the bolus dose data.
    - patient_id (int): The ID of the patient.
    - datetime (datetime): The date and time of the bolus dose.
    - bolus (float): The amount of bolus dose.
df_basal (DataFrame): DataFrame containing the basal dose data.
    - patient_id (int): The ID of the patient.
    - datetime (datetime): The date and time of the basal dose.
    - basal_rate (float): The basal insulin rate event [U/hr].
Returns:
    tdd (DataFrame): DataFrame containing both the bolus and basal tdd data.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="src.tdd.durations_since_previous_valid_value" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">durations_since_previous_valid_value</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Calculate the durations between each date and the previous date with a valid value (non NaN).</p>
<p>Parameters:
dates (list): A list of dates.
values (list): A list of values.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>durations</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of durations between each date and the previous valid date. NaN if there is no previous valid date.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



  </div>

    </div>

</div>


  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>