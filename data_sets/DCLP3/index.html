
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../IOBP2/">
      
      
        <link rel="next" href="../DCLP5/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.36">
    
    
      
        <title>DCLP3 - Babelbetes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.06209087.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dclp3" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Babelbetes" class="md-header__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Babelbetes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DCLP3
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Babelbetes" class="md-nav__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Babelbetes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Babelbetes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Supported Datasets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Supported Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../IOBP2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IOBP2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    DCLP3
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    DCLP3
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#study-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Study Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data" class="md-nav__link">
    <span class="md-ellipsis">
      Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-observations-after-manual-review" class="md-nav__link">
    <span class="md-ellipsis">
      General Observations (after manual review)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-integrity" class="md-nav__link">
    <span class="md-ellipsis">
      Data Integrity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Integrity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#missing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Missing Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duplicate-rows" class="md-nav__link">
    <span class="md-ellipsis">
      Duplicate Rows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incomplete-patients" class="md-nav__link">
    <span class="md-ellipsis">
      Incomplete Patients
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datetime" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datetime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#datetime-strings" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime Strings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetime-adjustments" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime Adjustments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#timestamps" class="md-nav__link">
    <span class="md-ellipsis">
      Timestamps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cgms" class="md-nav__link">
    <span class="md-ellipsis">
      CGMs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CGMs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#special-values" class="md-nav__link">
    <span class="md-ellipsis">
      Special Values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Boluses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Boluses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requested-vs-delivered" class="md-nav__link">
    <span class="md-ellipsis">
      Requested vs. Delivered
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-bolus-duration" class="md-nav__link">
    <span class="md-ellipsis">
      Extended Bolus Duration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basal-rates" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Rates
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DCLP5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DCLP5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PEDAP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PEDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FLAIR/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FLAIR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LOOP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LOOP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../T1DEXI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DExi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../T1DEXIP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DEXIP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../REPLACE_BG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Replace BG
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../recommendations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Better Datasets
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Toolbox Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Toolbox Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../checklist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Study Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Pracitces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Environments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribute
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../snippets/license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#study-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Study Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data" class="md-nav__link">
    <span class="md-ellipsis">
      Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-observations-after-manual-review" class="md-nav__link">
    <span class="md-ellipsis">
      General Observations (after manual review)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-integrity" class="md-nav__link">
    <span class="md-ellipsis">
      Data Integrity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Integrity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#missing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Missing Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duplicate-rows" class="md-nav__link">
    <span class="md-ellipsis">
      Duplicate Rows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incomplete-patients" class="md-nav__link">
    <span class="md-ellipsis">
      Incomplete Patients
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datetime" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datetime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#datetime-strings" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime Strings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetime-adjustments" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime Adjustments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#timestamps" class="md-nav__link">
    <span class="md-ellipsis">
      Timestamps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cgms" class="md-nav__link">
    <span class="md-ellipsis">
      CGMs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CGMs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#special-values" class="md-nav__link">
    <span class="md-ellipsis">
      Special Values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Boluses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Boluses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requested-vs-delivered" class="md-nav__link">
    <span class="md-ellipsis">
      Requested vs. Delivered
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-bolus-duration" class="md-nav__link">
    <span class="md-ellipsis">
      Extended Bolus Duration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basal-rates" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Rates
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="dclp3">DCLP3</h1>
<p>This page summarizes our insights about the clinical study data of the <strong>DCLP3</strong> study in efforts to understand how to handle bolus, basal, and cgm data, list assumptions that were made, and identify open questions. </p>
<p>The full analysis of this dataset is provided in: <code>notebooks/understand-dclp3-dataset.ipynb</code></p>
<h2 id="study-overview">Study Overview</h2>
<ul>
<li><strong>Study Name:</strong> The International Diabetes Closed Loop (iDCL) trial: Clinical Acceptance of the Artificial Pancreas - A Pivotal Study of t:slim X2 with Control-IQ Technology (DCLP3)</li>
<li><strong>Study Background:</strong> The objective of the study was to assess efficacy and safety of a closed loop system (t:slim X2 with Control-IQ Technology) in a large randomized controlled trial.</li>
<li><strong>Study Devices:</strong> t:slim X2 with Control-IQ and Dexcom G6 system</li>
<li><strong>Study Population:</strong> Teens and adults with type 1 diabetes ages 14 and older</li>
<li><strong>Total Data:</strong> There are roughly 19,700 days of data from 112 participants</li>
</ul>
<h2 id="data">Data</h2>
<p>From the DataGlossary.rtf file, the following relevant files were identified which are stored in the <strong>Data Tables</strong> subfolder. These are text files ("|" separator) and host many columns related to the Tandem pump events and the Dexcom CGM Data. The glossary provides information about each column. Below are the relevant columns contained in each text file.</p>
<p><strong>Pump_BolusDelivered.txt</strong>: Holds information about pump data downloaded (bolus data only)   </p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Description</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>PtID</td>
<td>Patient ID</td>
<td></td>
</tr>
<tr>
<td>DataDtTm</td>
<td>Datetime of delivered insulin</td>
<td></td>
</tr>
<tr>
<td>BolusAmount</td>
<td>The amount of bolus delivered</td>
<td></td>
</tr>
<tr>
<td>DataDtTm_adjusted</td>
<td>Adjusted value of DataDtTm</td>
<td>when available, should be used instead of DataDtTm, see <a href="#datetime">Datetime Adjustments</a></td>
</tr>
<tr>
<td>BolusType</td>
<td>The bolus insulin delivery type [Standard, Extended]</td>
<td>see <a href="#boluses">Extended Boluses</a></td>
</tr>
</tbody>
</table>
<p><strong>Pump_BasalRateChange.txt</strong>: Holds information about pump data downloaded (basal data only)</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Description</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>PtID</td>
<td>Patient ID</td>
<td></td>
</tr>
<tr>
<td>DataDtTm</td>
<td>Date-time of basal rate change</td>
<td></td>
</tr>
<tr>
<td>CommandedBasalRate</td>
<td>Basal Rate (U/h) - The active basal insulin delivery</td>
<td>(see <a href="#basal-rates">Basal-rates</a></td>
</tr>
<tr>
<td>DataDtTm_adjusted</td>
<td>Adjusted value of DataDtTm</td>
<td>when available, should be used instead of DataDtTm, see <a href="#datetime">Datetime Adjustments</a></td>
</tr>
</tbody>
</table>
<p><strong>Pump_CGMGlucoseValue.txt</strong>: Holds information about cgm data downloaded</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Description</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>PtID</td>
<td>Patient ID</td>
<td></td>
</tr>
<tr>
<td>DataDtTm</td>
<td>Date-time of cgm value</td>
<td></td>
</tr>
<tr>
<td>CGMValue</td>
<td>CGM value in mg/dl</td>
<td>Valid readings are 40-400, anything outside this range is marked with a 0</td>
</tr>
<tr>
<td>DataDtTm_adjusted</td>
<td>Adjusted value of DataDtTm</td>
<td>when available, should be used instead of DataDtTm, see <a href="#datetime">Datetime Adjustments</a></td>
</tr>
</tbody>
</table>
<h2 id="general-observations-after-manual-review">General Observations (after manual review)</h2>
<ul>
<li>We need to figure out how to deal with DataDtTm_adjusted</li>
<li>We need to make asusmptions about extended bolus durations </li>
<li>We should analyze if extended boluses are reported upon delivery or upon completion</li>
<li>We need to be aware that there will be duplicates in Record ids</li>
<li>0 CGMs need to be handled (checking previous, value &gt;0 to decide if &lt;40, &gt;400) </li>
</ul>
<p><strong>Differences from PEDAP:</strong> PEDAP and DCLP are conducted on Tandem pumps and therefore have similar data structures. 
But some differences exist:
 - Basal rate column in PEDAP is named <code>BasalRate</code>; in DCLP3 it is <code>CommandedBasalRate</code>
 - DCLP we have two date columns <code>DataDtTm</code> and <code>DataDtTm_adjusted</code>, in PEDAP there are no adjusted datetimes
 - In <code>PEDAP</code>, extended boluses come with duration and are reported at completion. <code>DCLP</code>, we only know if a bolus is extended, but miss the duration or if the extended portion is reported at the announcement or at the completion. 
 - <code>DCLP</code> Bolus table does not come with <code>CarbAmount</code> column</p>
<h2 id="data-integrity">Data Integrity</h2>
<h3 id="missing-data">Missing Data</h3>
<p>There are no null values except in the <code>DataDtTm_adjusted</code> columns which is expected (see <a href="#datetime">Datetime</a> section). </p>
<h3 id="duplicate-rows">Duplicate Rows</h3>
<p>We see that:
* There are only 22 basal Duplicates and these have different basal rates
* There are only 94 bolus duplicates and these all have different Bolus Types (Standard vs. Extended)
* most cgm duplicates share the same value</p>
<p>As the data glossary mentions, record duplicates are expected and should be ignored (data comes from multiple sources). Further, we see that the number of duplicates is almost negligible (only CGM is of interest). On inspection we see that CGM duplicates are almost identical:  </p>
<p><img alt="alt text" src="../assets/dclp3-cgm-duplicates.png" /></p>
<p>We deal with duplicates as follows:<br />
* Basal: Taking the maximum value (we see some zero values)
* CGM: Taking the first value
* There are no bolus duplicates when including the BolusType column. The duplicates in boluses seem to be a result of Standard and Extended Bolus portions being reported at the same time. See section on <a href="#boluses">Boluses</a> on how we dealt with this.</p>
<h3 id="incomplete-patients">Incomplete Patients</h3>
<p>We see that there are different number of unique patient ids: Basal: 125, Bolus: 125, CGM: 112. Total PtIDs with all forms of data:  112. Therefore, we reduce the data by dropping patients who miss data in one of the datafiles (13 patients).</p>
<h2 id="datetime">Datetime</h2>
<h3 id="datetime-strings">Datetime Strings</h3>
<p>In Flair and PEDAP datetime strings were reported in inconsistent time formats: time components were missing at midnights which required special handling to improve loading performance.
After checking, we see that:
 - all datetime strings are consistent (19 characters) indicating leading zeros. 
 - there are no missing datetimes</p>
<p>We can therefore move forward using the <code>pd.to_datetime</code> as is.</p>
<h3 id="datetime-adjustments">Datetime Adjustments</h3>
<p>The glossary mentions that these changes were made by JAEB. We want to make sure that we can trust these adjustment since the glossary provides little information on which data to use. In previous datasets, we already confirmed that the adjusted datetimes should be favored (when available). We are somewhat sceptical since some shifts were extreme (years) while others were minimal (hours, days).</p>
<p>We verified this by taking samples and checking how the cgm data moved as well as analyzing summary statistics on the distance between datetimes which reduced when using the <code>DataDtTm_adjusted</code> over <code>DataDtTm</code> when available.</p>
<p><img alt="alt text" src="../assets/dclp3-gaps-after-datetimeadjustments2.png" />
<img alt="alt text" src="../assets/dclp3-gaps-after-datetimeadjustments.png" /></p>
<p>In conclusion this confirms that using <code>DataDtTm_adjusted</code> over <code>DataDtTm</code> when available moves the data in the right spot (see blue cgm traces compared to the red ones) and reduces the variation in time differences. </p>
<h2 id="timestamps">Timestamps</h2>
<p>We want to make sure that datetimes of all datasets are in the same datetime and provide information about local time.</p>
<p>The DCLP3 data glossary makes no mention of UTC, timezone or zone and all datetime variables are described as local times. We verified by checking the distribution of mean CGM, basal rates and bolus doses to verify we see postprandial peaks in the morning, afternoon, and evening as well as more stable glucose during the night.</p>
<p><img alt="alt text" src="../assets/dclp3-daily-patterns.png" /></p>
<p>We see bolus peaks at around 7am, noon, and evening. Slightly delayed, we see postprandial glucose peaks as expected. Basal rates follow normal rhythm with the exception that, due to Control IQ, basal rates slowly reduce over night, to lower glucose after dinner as part of the closed loop control. From this we can safely assume that all datetimes are in local time. </p>
<h2 id="cgms">CGMs</h2>
<h3 id="special-values">Special Values</h3>
<p>From the data glossary we know that 0 cgm values are either below or above range based on the <code>HighLowIndicator</code>:</p>
<blockquote>
<p>0 = CGMValue contains the glucose reading<br />
1 = The glucose reading is high~ CGMValue set to 0<br />
2 = The glucose reading is low~ CGMValue set to 0</p>
</blockquote>
<p>We decided that replacing CGM value with the respective measurement range boundary makes most sense for now but other ways to extrapolate, or introduce special flags, could be employed later on.</p>
<pre><code class="language-python">df_cgm.loc[i_zero, 'cgm'] = df_cgm.HighLowIndicator.loc[i_zero].replace({ 2: 40, 1: 400 })
</code></pre>
<h2 id="boluses">Boluses</h2>
<h3 id="requested-vs-delivered">Requested vs. Delivered</h3>
<p>The timestamps represent the time of delivery, which, for the extended bolues means the completion of delivery. This is not well documented and only inferred from other datasets (see below).</p>
<h3 id="extended-bolus-duration">Extended Bolus Duration</h3>
<p>As in PEDAP, the <code>BolusType</code> in the bolus rows is either Standard (insulin that is delivered immedidately) or Extended (delivered over an extended duration). However, in contrast to PEDAP, there is no information about the delivery duration for extended boluses. From <em>JAEB</em> we know that the <code>Extended Bolus Duration</code> variable, present in PEDAP is <strong>not shared by Tandem</strong> for the DCLP3/5 datasets. Therefore we need to make an assumption about the duration. </p>
<p>In PEDAP, while the duration was explicitly provided, the timestamps of extended bolus rows was not the start of delivery  but the end of delivery. We can therefore <strong>reconstruct the delivery start and duration</strong> by matching pairs of standard and extended boluses and taking the standard bolus datetime as delivery start and the duration between timestamps as the delivery duration.</p>
<p>However, with our approach we won't be able to separate dual wave boluses (standard followed by an extended part) from <em>orphan</em> extended boluses (without standard part): Orphan Extended boluses will therefore be incorrectly matched to the previus standard bolus. However, this will happen only to a small percentage (In PEDAP only ~2% (170 out of 6460)) extended boluses did not have a standard bolus part. The T-Slim X2 allows durations &lt;=8 hours, therefore pairs matched with durations &gt;8 hours are definitely wrong.</p>
<p>In <strong>sumamry</strong> we treat extended boluses as follows:<br />
1. Assume that extended boluses are reported upon completion (as in PEDAP)
2. Match standard and extended rows using a matching algorithm
3. Set extended bolus delivery start to standard bolus datetime
4. Set bolus delivery duration:
   - For standard boluses: set to 0
   - Extended boluses: time difference between extended and standard datetimes
5. For delivery durations &gt;8h (those are definitely matched incorrectly) set the duration to 55 minutes (median value of identified durations) </p>
<p>Comparing the CDFs we see that, while different, PEDPA and DCLP3 show similar trends (60 minute and 120 minutes being the most common choices) which suggest that our corrections, while not free from it, reduces error:</p>
<table>
<thead>
<tr>
<th>PEDAP</th>
<th>DCLP3</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="PEDAP" src="../assets/pedap-duration-cdf.png" /></td>
<td><img alt="DCLP3" src="../assets/dclp3-duration-cdf.png" /></td>
</tr>
</tbody>
</table>
<h2 id="basal-rates">Basal Rates</h2>
<p>In PEDAP, we confirmed that basal rate change events are reported whenever basal delivery changes, not only if the new basal rate deviates from standard basal rate. Here, we apply the same logic and assume all basal rate changes are present.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>