
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../DCLP5/">
      
      
        <link rel="next" href="../FLAIR/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.36">
    
    
      
        <title>PEDAP - Babelbetes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.06209087.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pedap" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Babelbetes" class="md-header__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Babelbetes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              PEDAP
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Babelbetes" class="md-nav__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Babelbetes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Babelbetes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Supported Datasets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Supported Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../IOBP2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IOBP2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DCLP3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DCLP3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DCLP5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DCLP5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    PEDAP
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    PEDAP
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#study-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Study Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Study Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Data Tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pedaptandembolusdelivered" class="md-nav__link">
    <span class="md-ellipsis">
      PEDAPTandemBOLUSDELIVERED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pedaptandembasalratechg" class="md-nav__link">
    <span class="md-ellipsis">
      PEDAPTandemBASALRATECHG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pedaptandemcgmdatagxb" class="md-nav__link">
    <span class="md-ellipsis">
      PEDAPTandemCGMDataGXB
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differences-between-pedap-and-dclp35" class="md-nav__link">
    <span class="md-ellipsis">
      Differences between PEDAP and DCLP3/5
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observations" class="md-nav__link">
    <span class="md-ellipsis">
      Observations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datetime-handline" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime Handline
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duplicates-missing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Duplicates &amp; Missing Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Duplicates & Missing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drop-non-tandem-patients-no-basal-data" class="md-nav__link">
    <span class="md-ellipsis">
      Drop Non-Tandem Patients (No Basal data)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extended-boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Extended Boluses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basal-rates" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Rates
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FLAIR/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FLAIR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LOOP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LOOP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../T1DEXI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DExi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../T1DEXIP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DEXIP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../REPLACE_BG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Replace BG
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../recommendations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Better Datasets
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Toolbox Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Toolbox Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../checklist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Study Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Pracitces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Environments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribute
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../snippets/license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#study-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Study Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Study Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Data Tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pedaptandembolusdelivered" class="md-nav__link">
    <span class="md-ellipsis">
      PEDAPTandemBOLUSDELIVERED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pedaptandembasalratechg" class="md-nav__link">
    <span class="md-ellipsis">
      PEDAPTandemBASALRATECHG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pedaptandemcgmdatagxb" class="md-nav__link">
    <span class="md-ellipsis">
      PEDAPTandemCGMDataGXB
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differences-between-pedap-and-dclp35" class="md-nav__link">
    <span class="md-ellipsis">
      Differences between PEDAP and DCLP3/5
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observations" class="md-nav__link">
    <span class="md-ellipsis">
      Observations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datetime-handline" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime Handline
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duplicates-missing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Duplicates &amp; Missing Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Duplicates & Missing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drop-non-tandem-patients-no-basal-data" class="md-nav__link">
    <span class="md-ellipsis">
      Drop Non-Tandem Patients (No Basal data)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extended-boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Extended Boluses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basal-rates" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Rates
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="pedap">PEDAP</h1>
<p>This page summarizes our insights about the clinical study data of the <strong>PEDAP</strong> study in efforts to understand how to handle bolus, basal, and cgm data, list assumptions that were made, and pose open questions. </p>
<p>The full analysis of this dataset is provided in: <code>notebooks/understand-pedap-dataset.ipynb</code></p>
<h2 id="study-overview">Study Overview</h2>
<ul>
<li><strong>Study Name</strong>: The Pediatric Artificial Pancreas (PEDAP) trial: A Randomized Controlled Comparison of the Control- IQ technology Versus Standard of Care in Young Children in Type 1 Diabetes</li>
<li><strong>Description</strong>: The objective of the study was to assess efficacy, quality of life, and safety of a closed loop control (CLC) system (t:slim X2 with Control-IQ Technology) in a randomized controlled trial with partial crossover.  </li>
<li><strong>Devices</strong>: t:slim X2 with Control-IQ and Dexcom G6 system</li>
<li><strong>Study Population</strong>: Children aged 2 - 5 years old</li>
</ul>
<h3 id="data-tables">Data Tables</h3>
<p>The study data folder is named <strong>PEDAP Public Dataset - Release 1 - 2024-04-16</strong></p>
<p>From the DataGlossary.rtf file, the following relevant files were identified which are stored in the <strong>Data Files</strong> subfolder.</p>
<ul>
<li><strong>PEDAPTandemBOLUSDELIVERED.txt</strong>: Event logged on pump when delivery of an insulin bolus (Standard, Extended, or Automatic) is completed</li>
<li><strong>PEDAPTandemBASALRATECHG.txt</strong>: Event logged on pump when insulin basal rate changes due to pumping events</li>
<li><strong>PEDAPTandemCGMDataGXB.txt</strong>: List of cgm data downloaded </li>
<li><strong>PtRoster.txt</strong>: Patient Roster</li>
</ul>
<p>These are csv files ("|" separator) and host many columns related to the Tandem pump events and the Dexcom cgm. The glossary provides information about each column. Each file contains a limited amount of columns compared to the FLAIR data. Below are <strong>all</strong> of the columns contained in each file</p>
<h4 id="pedaptandembolusdelivered">PEDAPTandemBOLUSDELIVERED</h4>
<ul>
<li><strong>PtID</strong>: Patient ID</li>
<li><strong>DeviceDtTm</strong>: Date-time of completion of bolus delivery</li>
<li><strong>BolusAmount</strong>: size of completed bolus</li>
<li><strong>CarbAmount</strong>: grams of carbs announced to the pump</li>
<li><strong>BolusType</strong>: The bolus insulin delivery type [Standard, Extended, Automatic]</li>
<li><strong>Duration</strong>: For extended boluses, the requested bolus duration in minutes</li>
<li><strong>ExtendedBolusPortion</strong>: Flag distinguishing the immediate (Now) portion of the bolus (if any) from the extended (Later) portion [Now, Later]</li>
</ul>
<h4 id="pedaptandembasalratechg">PEDAPTandemBASALRATECHG</h4>
<ul>
<li><strong>PtID</strong>: Patient ID</li>
<li><strong>DeviceDtTm</strong>: Date-time of basal rate change</li>
<li><strong>BasalRate</strong>: Basal Rate (U/h) - The active basal insulin delivery rate in units per hour</li>
</ul>
<h4 id="pedaptandemcgmdatagxb">PEDAPTandemCGMDataGXB</h4>
<ul>
<li><strong>PtID</strong>: Patient ID</li>
<li><strong>DeviceDtTm</strong>: Date-time </li>
<li><strong>CGMValue</strong>: Value of CGM reading, in mg/dL; 0 indicates a below-range reading (&lt;40) or above-range reading (&gt;400)</li>
<li><strong>HighLowIndicator</strong>: Flag indicating presence of an in-range reading (0), below-range reading (2), or above-range reading (1)</li>
</ul>
<h3 id="differences-between-pedap-and-dclp35">Differences between PEDAP and DCLP3/5</h3>
<p><strong>Naming:</strong> In <code>PEDAP</code>, the basal rate and CGM events are reported in the same way as in <code>DCLP</code> studies. However, the column name for the basal rate value is different in <code>PEDAP</code>.</p>
<p><strong>Extended Boluses:</strong> In <code>PEDAP</code>, the <em>extended portion</em> of the bolus is reported <strong>at the completion</strong> of the bolus along with how long it was extended for. In <code>DCLP</code>, we have to make assumptions on how long the bolus is extended for, and if the extended portion is reported at the announcement or at the completion. </p>
<h2 id="observations">Observations</h2>
<ul>
<li>some mismatching counts for boluses (some nan values?) --&gt; inspect</li>
</ul>
<h2 id="datetime-handline">Datetime Handline</h2>
<p>As in <code>Flair</code>, the reported datetime strings miss the time component at midnight. Therefore, automatic parsing is slow. We therefore split the dataset in those with and without datetime strings and then parse the datetimestrings using two different datetime prototypes:</p>
<pre><code class="language-python">only_date = dates.apply(len) &lt;=10
dates.loc[only_date] = pd.to_datetime(dates.loc[only_date], format='%m/%d/%Y')
dates.loc[~only_date] = pd.to_datetime(dates.loc[~only_date], format='%m/%d/%Y %I:%M:%S %p')
</code></pre>
<h2 id="duplicates-missing-data">Duplicates &amp; Missing Data</h2>
<ul>
<li>We see that there are many duplicated data rows (75139 in basal, 677 in cgm, 0 in bolus) without additional information. These are removed. </li>
<li>For 3 bolus rows, DateTime data is missing, these are removed</li>
</ul>
<h3 id="drop-non-tandem-patients-no-basal-data">Drop Non-Tandem Patients (No Basal data)</h3>
<p>We noticed that the number of unique patient ids between datasets varied. We found that only 65 out of 99 patients have <em>basal</em> data. Review of the study protocol showed that this is because basal rate changes are only recorded for CLC (Tandem Control IQ) users while Standard Care (SC) group either is on MDI or a different pump system. We don't have information about the actual basal rates for these patients except for the screening form. Therefore, we only kept patient ids with data in all three datasets.</p>
<h2 id="extended-boluses">Extended Boluses</h2>
<ul>
<li>~6.5% extended boluses</li>
<li>Extended boluses can be dual wave or only have an extended bolus (data glossary)</li>
<li>A dual wave bolus is split in two rows: </li>
<li>Immediate part (ExtendedBolusPortion == <code>Now</code>).</li>
<li>Extended part (ExtendedBolusPortion == <code>Later</code>). Reported upon completion. </li>
<li>The duration is repeated in both the <code>Now</code> and <code>Later</code> rows. Therefore the start of the extended portion must be calculated by subtracting the duration from the timestamp or by taking the timestamp off the immediate part.</li>
<li>There are <code>171</code> more <code>Later</code> parts, these <em>orphans</em> are assumed to be <em>non dual wave boluses</em>: Just an extended part without immediate delivery.</li>
</ul>
<p>As per the data glossary, the bolus value represents the <em>completed</em> delivery and we can therefore safely assume that <em>extended</em> boluses are always reported upon completion (even if they don't have an immediate part). This allows us to calculate the <em>extended</em> bolus delivery start by subtracting the duration off of the timestamp. </p>
<pre><code class="language-python">df_bolus.DeviceDtTm - pd.to_timedelta(df_bolus.Duration, unit='m')
</code></pre>
<p>In summary extracting bolus events is an easy task:
 - Removal of rows without timestamp
 - Subtract the duration (0 for standard boluses, &gt;0 for extended portions) from the timestamp to obtain the delivery start time. </p>
<h2 id="basal-rates">Basal Rates</h2>
<p>From the data glossary it was not clear if basal rate events only represent changes from the standard basal rate or changes to the basal rate. To verify, we took a look at the structually very similar <code>DCLP3</code> dataset which also comes with a <code>InsulinPumpSettings_a</code> file that contians the standard basal rates. We then checked if the PumpBasalRateChange events are reported when standard basal rate change. Visually we could confirm that basal rate changes are reported when standard basal rate changes (overlapping darker scatter points).</p>
<p>In summary, <code>PEDAPTandemBASALRATECHG.txt</code> should contain all basal rate change events.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>