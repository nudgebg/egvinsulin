
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../T1DEXIP/">
      
      
        <link rel="next" href="../../recommendations/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.36">
    
    
      
        <title>Replace BG - Babelbetes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.06209087.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#replace-bg" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Babelbetes" class="md-header__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Babelbetes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Replace BG
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Babelbetes" class="md-nav__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Babelbetes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Babelbetes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Supported Datasets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Supported Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../IOBP2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IOBP2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DCLP3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DCLP3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DCLP5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DCLP5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PEDAP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PEDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FLAIR/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FLAIR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LOOP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LOOP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../T1DEXI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DExi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../T1DEXIP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DEXIP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Replace BG
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Replace BG
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#study-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Study Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Study Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data" class="md-nav__link">
    <span class="md-ellipsis">
      Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relevant-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Relevant Columns:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdevicecgmtxt" class="md-nav__link">
    <span class="md-ellipsis">
      HDeviceCGM.txt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdevicebolustxt" class="md-nav__link">
    <span class="md-ellipsis">
      HDeviceBolus.txt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdeviceuploadstxt" class="md-nav__link">
    <span class="md-ellipsis">
      HDeviceUploads.txt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdevicebasaltxt" class="md-nav__link">
    <span class="md-ellipsis">
      HDeviceBasal.txt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discarded-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Discarded columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todo" class="md-nav__link">
    <span class="md-ellipsis">
      TODO:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-observation-first-glance" class="md-nav__link">
    <span class="md-ellipsis">
      General Observation (first Glance)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-integrity" class="md-nav__link">
    <span class="md-ellipsis">
      Data Integrity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Integrity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#missing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Missing Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incomplete-patients" class="md-nav__link">
    <span class="md-ellipsis">
      Incomplete Patients
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datetimes" class="md-nav__link">
    <span class="md-ellipsis">
      Datetimes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datetimes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-time" class="md-nav__link">
    <span class="md-ellipsis">
      Local time
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diasend-vs-tidepool" class="md-nav__link">
    <span class="md-ellipsis">
      Diasend vs. Tidepool
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-distributions" class="md-nav__link">
    <span class="md-ellipsis">
      Data distributions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basal" class="md-nav__link">
    <span class="md-ellipsis">
      Basal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#suspends-temp-basals" class="md-nav__link">
    <span class="md-ellipsis">
      Suspends &amp; Temp Basals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporary-basals" class="md-nav__link">
    <span class="md-ellipsis">
      Temporary Basals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basal-duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Duplicates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basal-durations" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Durations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cgm" class="md-nav__link">
    <span class="md-ellipsis">
      CGM
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CGM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#special-cgm-values" class="md-nav__link">
    <span class="md-ellipsis">
      Special CGM Values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Boluses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Boluses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extended-boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Extended Boluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-bolus-durations" class="md-nav__link">
    <span class="md-ellipsis">
      Extended Bolus Durations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diasend-boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Diasend Boluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requested-vs-delivered" class="md-nav__link">
    <span class="md-ellipsis">
      Requested vs. Delivered
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collected-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Collected Questions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../recommendations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Better Datasets
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Toolbox Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Toolbox Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../checklist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Study Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Pracitces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Environments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribute
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../snippets/license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#study-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Study Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Study Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data" class="md-nav__link">
    <span class="md-ellipsis">
      Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relevant-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Relevant Columns:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdevicecgmtxt" class="md-nav__link">
    <span class="md-ellipsis">
      HDeviceCGM.txt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdevicebolustxt" class="md-nav__link">
    <span class="md-ellipsis">
      HDeviceBolus.txt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdeviceuploadstxt" class="md-nav__link">
    <span class="md-ellipsis">
      HDeviceUploads.txt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdevicebasaltxt" class="md-nav__link">
    <span class="md-ellipsis">
      HDeviceBasal.txt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discarded-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Discarded columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todo" class="md-nav__link">
    <span class="md-ellipsis">
      TODO:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-observation-first-glance" class="md-nav__link">
    <span class="md-ellipsis">
      General Observation (first Glance)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-integrity" class="md-nav__link">
    <span class="md-ellipsis">
      Data Integrity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Integrity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#missing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Missing Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incomplete-patients" class="md-nav__link">
    <span class="md-ellipsis">
      Incomplete Patients
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datetimes" class="md-nav__link">
    <span class="md-ellipsis">
      Datetimes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datetimes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-time" class="md-nav__link">
    <span class="md-ellipsis">
      Local time
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diasend-vs-tidepool" class="md-nav__link">
    <span class="md-ellipsis">
      Diasend vs. Tidepool
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-distributions" class="md-nav__link">
    <span class="md-ellipsis">
      Data distributions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basal" class="md-nav__link">
    <span class="md-ellipsis">
      Basal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#suspends-temp-basals" class="md-nav__link">
    <span class="md-ellipsis">
      Suspends &amp; Temp Basals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporary-basals" class="md-nav__link">
    <span class="md-ellipsis">
      Temporary Basals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basal-duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Duplicates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basal-durations" class="md-nav__link">
    <span class="md-ellipsis">
      Basal Durations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cgm" class="md-nav__link">
    <span class="md-ellipsis">
      CGM
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CGM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#special-cgm-values" class="md-nav__link">
    <span class="md-ellipsis">
      Special CGM Values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Boluses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Boluses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extended-boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Extended Boluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-bolus-durations" class="md-nav__link">
    <span class="md-ellipsis">
      Extended Bolus Durations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diasend-boluses" class="md-nav__link">
    <span class="md-ellipsis">
      Diasend Boluses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requested-vs-delivered" class="md-nav__link">
    <span class="md-ellipsis">
      Requested vs. Delivered
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collected-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Collected Questions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="replace-bg">Replace BG</h1>
<p>This page summarizes our insights about the clinical study data of the <strong>Replace BG</strong> study in efforts to understand how to handle bolus, basal, and cgm data, lists assumptions that were made, and poses open questions. </p>
<p>The full analysis of this dataset is provided in: <code>notebooks/understand-replacebg-dataset/understand-replace-bg.ipynb</code></p>
<h2 id="study-overview">Study Overview</h2>
<ul>
<li><strong>Study Name</strong>: A Randomized Trial Comparing Continuous Glucose Monitoring With and Without Routine Blood Glucose Monitoring in Adults with Type 1 Diabetes</li>
<li><strong>Background:</strong> The primary objective of the study was to determine whether the routine use of CGM without BGM confirmation is as safe and effective as CGM used as an adjunct to BGM. </li>
<li><strong>Duration</strong>: Run-in phase of 2–10 weeks, 26 weeks study duration</li>
<li><strong>Devices:</strong> Dexcom G4 Platinum</li>
<li><strong>Population:</strong> There are 208 patients with bolus, basal and cgm data.</li>
<li><strong>Data:</strong> There are roughly 52683 patient days of data with an average of 253 days per patient (using cgm).  </li>
</ul>
<h3 id="data">Data</h3>
<p>“Data were uploaded from the study CGM and BGM devices and the participant’spersonal insulin pump by using the Tidepool platform (http://tidepool.org). For insulin pumps that were unable to be uploaded to the Tidepool platform, the data were obtained by using Diasend (Chicago, IL) software” (<a href="zotero://select/library/items/JMBWSKEE">Aleppo et al., 2017, p. 540</a>) (<a href="zotero://open-pdf/library/items/JHYQJ9TW?page=3&amp;annotation=GTMF46IL">pdf</a>)</p>
<p>The study data folder is named <strong>Loop study public dataset 2023-01-31</strong></p>
<p>From the ReadMe.rtf file, the following relevant files were identified which are stored in the <strong>Data Tables</strong> subfolder.</p>
<table>
<thead>
<tr>
<th>File Name</th>
<th>Description</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>HDeviceCGM,.txt</td>
<td>One record per CGM reading</td>
<td>Similar to what we've seen in Loop (Tidepool structure)</td>
</tr>
<tr>
<td>HDeviceBasal.txt</td>
<td></td>
<td>Not included in the JAEB file anymore. Similar to what we've seen in Loop (Tidepool structure)</td>
</tr>
<tr>
<td>HDeviceBolus.txt</td>
<td>One record per bolus reading from a pump</td>
<td>Similar to what we've seen in Loop (Tidepool structure)</td>
</tr>
<tr>
<td>HPtRoster.txt</td>
<td>One record per Protocol H PtID obtained</td>
<td></td>
</tr>
<tr>
<td>HDeviceUploads.txt</td>
<td>One record per device upload</td>
<td>Contains information about data source (Tidepool vs. Diasend) which we need to differentiate between duration units in milli seconds (Tidepool) or minutes (Diasend)</td>
</tr>
</tbody>
</table>
<h4 id="relevant-columns">Relevant Columns:</h4>
<p>The following lists all relevant columns. Other columns were considered irrelevant. Some are still mentioned if they serve the discussion but are crossed through.</p>
<h4 id="hdevicecgmtxt">HDeviceCGM.txt</h4>
<table>
<thead>
<tr>
<th>Field_Name</th>
<th>Description (Glossary)</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>DeviceDtTmDaysFromEnroll</td>
<td>Device date number of days from enrollment</td>
<td>convert to timedelta (unit='days'), add to DeviceTm and arbitrary study start date</td>
</tr>
<tr>
<td>DeviceTm</td>
<td>Device time</td>
<td>convert to timedelta (H::M:S)</td>
</tr>
<tr>
<td>DexInternalDtTmDaysFromEnroll</td>
<td>Internal date number of days from enrollment</td>
<td>Seems to be Dexcom time, Not missing as in Loop, let's check if needed.</td>
</tr>
<tr>
<td>DexInternalTm</td>
<td>Internal time</td>
<td>Seems to be Dexcom time, Not missing as in Loop, let's check if needed.</td>
</tr>
<tr>
<td>RecordType</td>
<td>Type of data (CGM, Calibration, etc)</td>
<td>Needed to drop calibrations</td>
</tr>
<tr>
<td>GlucoseValue</td>
<td>Glucose value (units: mg/dL)</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="hdevicebolustxt">HDeviceBolus.txt</h4>
<table>
<thead>
<tr>
<th>Field_Name</th>
<th>Description (Glossary)</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>DeviceDtTmDaysFromEnroll</td>
<td>Device date number of days from enrollment</td>
<td>convert to timedelta (unit='days'), add to DeviceTm and arbitrary study start date</td>
</tr>
<tr>
<td>DeviceTm</td>
<td>Device time</td>
<td>convert to timedelta (H::M:S)</td>
</tr>
<tr>
<td>BolusType</td>
<td>Subtype of data (ex: "Normal" and "Square" are subtypes of "Bolus" type)</td>
<td></td>
</tr>
<tr>
<td>Normal</td>
<td>Number of units of normal bolus</td>
<td>Likely the only relevant value.</td>
</tr>
<tr>
<td>Extended</td>
<td>Number of units for extended delivery</td>
<td>We found that there are 0.4% extended boluses.</td>
</tr>
<tr>
<td>Duration</td>
<td>Time span over which the bolus was delivered (milliseconds for Tidepool data, minutes for Diasend data)</td>
<td>Our analysis shows that Duration refers to the Extended part of a Bolus. However, unclear how to find out whether in ms or minutes. JAEB couldn't answer.</td>
</tr>
<tr>
<td>ParentHDeviceUploadsID</td>
<td>RecID from tblHDeviceUploads</td>
<td>We need this to join the datasource from the HDeviceUploads table</td>
</tr>
</tbody>
</table>
<h4 id="hdeviceuploadstxt">HDeviceUploads.txt</h4>
<table>
<thead>
<tr>
<th>Field_Name</th>
<th>Description (Glossary)</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>PtId</td>
<td></td>
<td>Different spelling (small d) instead of PtID</td>
</tr>
<tr>
<td>RecID</td>
<td>Unique record ID in table</td>
<td>This is the upload id which we match with the ParentHDeviceUploadsID in the other tables</td>
</tr>
<tr>
<td>DataSource</td>
<td>Source of data (Ex: Tidepool, Diasend, etc.)</td>
<td>We need this to distingusih between Tidepool and Diasend (see <a href="#diasend-vs-tidepool">diasend vs. tidepool</a>)</td>
</tr>
</tbody>
</table>
<h4 id="hdevicebasaltxt">HDeviceBasal.txt</h4>
<p>Note: File not included in the JAEB file anymore!</p>
<table>
<thead>
<tr>
<th>Field_Name</th>
<th>Description (Glossary)</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>PtID</td>
<td>Participant ID</td>
<td></td>
</tr>
<tr>
<td>DeviceDtTmDaysFromEnroll</td>
<td>Device date number of days from enrollment</td>
<td>convert to timedelta (unit='days'), add to DeviceTm and arbitrary study start date</td>
</tr>
<tr>
<td>DeviceTm</td>
<td>Device time</td>
<td>convert to timedelta (H::M:S)</td>
</tr>
<tr>
<td>BasalType</td>
<td>Basal delivery type</td>
<td>used to find suspends</td>
</tr>
<tr>
<td>Duration</td>
<td>Actual number of milliseconds basal will be in effect</td>
<td>Used as duration</td>
</tr>
<tr>
<td>Rate</td>
<td>Number of units per hour</td>
<td>We use this as actual delivery rate</td>
</tr>
</tbody>
</table>
<h4 id="discarded-columns">Discarded columns</h4>
<p>Note: As in the Loop study dataset, we assume that the Bolus columns: ExpectedNormal, ExpectedDuration, ExpectedExtended (Bolus) and the Basal columns: ExpectedDuration, Percent, SuprBasalType, SuprDuration, SuprRate can be ignored as they don't represent the actual deliveries but amounts that were suppressed. However, we will use them to investigate duplicates.</p>
<h4 id="summary">Summary</h4>
<p>The tables mostly follow the Tidepool structure which we know from previous tudies (e.g. Loop) 
Differences:
- Timestamps are given relative (day and HH:MM:SS) to enrollment start (which is not provided)
- Insulin and InsValue columns exist, however always empty
- CGM values in mgdl not mmol/dL
- Dexcom times seem to be present in all rows
- No timezone offsets are present, probably all in local time</p>
<h2 id="todo">TODO:</h2>
<ol>
<li>Check if Dexcom times exist and if they are needed</li>
<li>Check if duration is in milliseconds (Bolus)</li>
</ol>
<h2 id="general-observation-first-glance">General Observation (first Glance)</h2>
<ul>
<li>...</li>
<li>...</li>
</ul>
<h2 id="data-integrity">Data Integrity</h2>
<h3 id="missing-data">Missing Data</h3>
<pre><code>- Check for null values across columns.
</code></pre>
<h3 id="incomplete-patients">Incomplete Patients</h3>
<p>There are 226 unique patients in the patient roster
There are 224 unique patients in the bolus table
There are 208 unique patients in the basal table
There are 226 unique patients in the cgm table</p>
<p>There are 208 patients with data in all datasets. We exclude all other patients.</p>
<h2 id="datetimes">Datetimes</h2>
<p>Datetimes are provided relative to enrollment start by day (<code>DeviceDtTmDaysFromEnroll</code>) and time (<code>DeviceTm</code>). To keep data anonymous, the enrollment date is not provided. Therefore, we chose an arbitrary enrollment date for all patients <code>enrollment_start = datetime(2015,1,1)</code></p>
<p>From the glossary we know that the run in phase is at max 10 weeks before enrollment while study duration is maximum of 26 weeks. However, we see significant amounts of data exists beyond especially for pump data. 
<img alt="" src="../assets/replacebg_DeviceDtTmDaysFromEnroll.png" /></p>
<p>A quick check on cgm data shows that the reconstructed datetimes result in a continuous trace. 
<img alt="" src="../assets/replacebg_CGM_example.png" /></p>
<h3 id="local-time">Local time</h3>
<p>By glossary all datetimes are in local time and the moving average analysis shows charcteristic daily patterns showing post prandial peaks (bolus,cgm). However, basal profiles do not show this trend, likely because we are dealing with a CSII and not a AID system here. 
<img alt="" src="../assets/replacebg_moving_averages.png" /></p>
<h2 id="diasend-vs-tidepool">Diasend vs. Tidepool</h2>
<p>From the glossary we know that diasend durations are given in minutes instead of ms as in Tidepool. The cdf below confirms this.
<img alt="" src="../assets/replacebg_Bolus_Duration_Diasend.png" />
<img alt="" src="../assets/replacebg_data_source_pie.png" /></p>
<p>Our analysis shows that Diasend durations are in fact in minutes and need to be converted to milliseconds. </p>
<ul>
<li>there are no Diasend Basals (all Tidepool) </li>
<li>There are only 1060 Diasend boluses with BolusType <code>Combination</code> or <code>Normal</code></li>
<li>all Combination boluses have a duration, this is given (<strong>in minutes</strong>)</li>
<li>But only 4 out of 1060 have an extended part</li>
</ul>
<p>Given that some of them have an extended part it seems more logical that the extended part is missing for the others. Therefore we treat Diasend imports by    </p>
<p><strong>1.</strong> Adjust from minutes to milliseconds and <br />
<strong>2.</strong> Set Duration to 0 when extended part is missing.</p>
<h2 id="data-distributions">Data distributions</h2>
<p><img alt="" src="../assets/replacebg_CDFs.png" /></p>
<p>The data distributions look as expected. Basal rates range from 0-~5.175 U/hr, boluses from 0-35 Units and glucose data from 39-401 mg/dl.</p>
<h2 id="basal">Basal</h2>
<p>See note on <a href="#discarded-columns">discarded columns</a></p>
<h3 id="suspends-temp-basals">Suspends &amp; Temp Basals</h3>
<p>Temp and Suspend basals are reported as normal basal rates meaning that they are already integrated. (In Flair for example, the suspends needed to be converted into new basal events and we had to use the temp basal rates to change standard basal rates.)</p>
<p>However:
- Suspends are reported as NaN basal rates and therefore need to be fileld with zeros so that they are not discarded</p>
<p><code>df_basal.fillna({'Rate':0}, inplace=True)</code></p>
<h3 id="temporary-basals">Temporary Basals</h3>
<h3 id="basal-duplicates">Basal Duplicates</h3>
<ul>
<li>Some duplicates have the same time, duration, and rate and therefore are equivalent for our purposes even if they show differences in other columns. </li>
<li>Others share the same datetime and duration but different rate. </li>
<li>Others have only same time but different duration / rate. </li>
<li>The meaning of the extra columns (Percent, ExpectedDuration, SuprDuration…) remain unclear. </li>
<li>Reverse engineering this is a big time sink and we probably won’t get it right all the time. </li>
</ul>
<p>A few examples (same time and rate). Split by which combination of basal types exist. </p>
<p><img alt="" src="../assets/replacebg_basal_dups_time_duration_by_basal_types.png" /></p>
<p>When there are temporal duplicates in time and duration we could make the following assuptions:
 1. (scheduled or temp) and suspends: prioritize the suspend, set Rate to 0 (using fillna)
 2. scheduled and temp: prioritize temp row
 3. only scheduled: use the maximum value</p>
<p>Duplicates with different durations cause more confusion. Many duplicate sets contain rows whose durations don’t match with the “next” correct basal rate while others do. In these cases i would only keep the one that matches. However, this is not necessarily always the suspend row. Here is an example: Two duplicates at 14:00 with different durations. Only one of the durations (4h) matches with the next non-duplicated row at 18:00. The other, is probably wrong. 
<img alt="" src="../assets/replacebg_basal_dups_different_durations_example.png" /></p>
<p>While the above approaches might seem plausible, we can't really say that it is correct because
 1. We don't know why there are duplicates
 2. We don't know if we can judge the right row by the duration
 3. We don't know if a suspend really overpowers a scheduled event</p>
<p>Other approaches might be even better such as using the import date etc. However, we could not find any data that would favor one over the other. Ultimately this affects only about 1% of the data. </p>
<p>**Therefore, we go back to a simpler method in resolving duplicates: using the row with the Record ID maximum. **</p>
<h3 id="basal-durations">Basal Durations</h3>
<p>We observed many very large basal durations. 
 - Often, long durations have a zero basal rate
 - Mostly the durations match the data gap of 1 or more days until next basal rate
 - However, some overlap with the next datetime
 - Some are excessive e.g. &gt;250 days: In these cases, the data might not even fall within the study period</p>
<p>Potentially, durations were calculated retrospectively from one to the next basal rate causing large values when there are data gaps. However, overlaps cannot be explained by this. The reasons are unclear. </p>
<p>It remains to the user to detect data gaps and outdated basal rates.</p>
<h2 id="cgm">CGM</h2>
<p>Calibrations need to be dropped. </p>
<h3 id="special-cgm-values">Special CGM Values</h3>
<p>Values surrounding 39md/dl values exist and appear capped as in the image below. 
<img alt="" src="../assets/replacebg_CGM_example_39.png" /></p>
<p>A <code>value_counts()</code> analysis confirms there are much more 39 and 401 readings than 40 and 400 respectively which represent out of range readings.</p>
<pre><code>39.0     28885
40.0      4753
400.0     3530
401.0    48935
</code></pre>
<p>In Loop, data was capped to 40-400, in DCLP3 0 values indicated out of bound readings which were replaced with 40 and 400 respectively. To be consistent with the other datasets, we replace 39 and 401 values with 40 and 400 values knowing that in future out of bound readings might require special attention and require a different approach.</p>
<p><code>df_cgm = df_cgm['GlucoseValue'].replace({39:40, 401:400})</code></p>
<h2 id="boluses">Boluses</h2>
<h3 id="extended-boluses">Extended Boluses</h3>
<p>Each basal row has a Normal and an Extended part. The duration is Nan when there is an extended part. Therefore, to convert it into the target format of a insulin delivery with duration, we need to split rows with both parts in two rows (as we did before in other similar datasets). Normal boluses are assigned a zero duration while extended parts use the duration of the row. </p>
<h3 id="extended-bolus-durations">Extended Bolus Durations</h3>
<ul>
<li>Extended bolus duration is within expected limits of &lt;8 hours.</li>
<li>Only extended bolus have a duration (that's good, and means there are no incorrectly-labeled Normal boluses)</li>
<li>Many extended boluses with short durations<ul>
<li>these have very small doses, many of them are 0</li>
</ul>
</li>
<li>Around 1000 extended bolus doses are 0<ul>
<li>These almost always have zero duration.</li>
</ul>
</li>
</ul>
<p>It remains unclear where the zero durations come from and why we also see extremely short durations. </p>
<p>To avoid unnecessary rows with 0 deliveries, extended parts should be removed:
<code>df_bolus = df_bolus.replace({'Normal':0, 'Extended':0}, np.nan)</code></p>
<h3 id="diasend-boluses">Diasend Boluses</h3>
<p>As discussed in the section <a href="#diasend-vs-tidepool">Diasend vs. Tidepool data source</a>, Diasend boluses seem to be corrupt. At least the extended parts were almost always empty despite having a delivery duration. We resolve these by treating the Normal part as normal bolus. However, we can not guarantee that this is correct. However, if only affect ~1060 boluses (and even much less after dropping patients with incomplete data).</p>
<h3 id="requested-vs-delivered">Requested vs. Delivered</h3>
<p>See note on <a href="#discarded-columns">discarded columns</a></p>
<h2 id="collected-questions">Collected Questions</h2>
<ul>
<li>Is our assumption about <a href="#discarded-columns">irrelevant columns </a> correct?</li>
<li>How should we resolve basal duplicates: <ul>
<li>with equal time and durations but different rates (e.g. scheduled)</li>
<li>with equal time but different duration?</li>
<li>why do some have different durations? (some match next time, others don't)</li>
<li>Should we use suspends over other events? And then, is NaN equal to a 0 basal rate? This is how we treated them in T1DExi</li>
</ul>
</li>
<li>Should we exclude data before and after study start?<ul>
<li>Why is there such an excess of data before enrollment and after study end?</li>
</ul>
</li>
<li>Why are there extended boluses with zero (or very small) dose?<ul>
<li>What are extended boluses with zero duration?</li>
</ul>
</li>
<li>Why do almost all diasend boluses have a duration but no extended part?</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>