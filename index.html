
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="data_sets/IOBP2/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.36">
    
    
      
        <title>Babelbetes</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.06209087.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="style.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#babelbetes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Babelbetes" class="md-header__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Babelbetes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Babelbetes
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Babelbetes" class="md-nav__button md-logo" aria-label="Babelbetes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Babelbetes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Babelbetes
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Babelbetes
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#challenges-with-publicly-available-clinical-trial-data" class="md-nav__link">
    <span class="md-ellipsis">
      Challenges with Publicly Available Clinical Trial Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#last-mile-problem" class="md-nav__link">
    <span class="md-ellipsis">
      Last Mile Problem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-studies" class="md-nav__link">
    <span class="md-ellipsis">
      Supported Studies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-contribute" class="md-nav__link">
    <span class="md-ellipsis">
      How to Contribute
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-features-of-the-toolbox" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features of the Toolbox
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Features of the Toolbox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-standardization" class="md-nav__link">
    <span class="md-ellipsis">
      Data Standardization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-babelbetes-quickstart" class="md-nav__link">
    <span class="md-ellipsis">
      How to use BabelBetes (Quickstart)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to use BabelBetes (Quickstart)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-python" class="md-nav__link">
    <span class="md-ellipsis">
      Setup Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-the-raw-data" class="md-nav__link">
    <span class="md-ellipsis">
      Prepare the raw data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-run_functionspy-to-batch-extract-data" class="md-nav__link">
    <span class="md-ellipsis">
      Run run_functions.py to batch Extract data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-times" class="md-nav__link">
    <span class="md-ellipsis">
      Execution Times
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Supported Datasets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Supported Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_sets/IOBP2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IOBP2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_sets/DCLP3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DCLP3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_sets/DCLP5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DCLP5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_sets/PEDAP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PEDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_sets/FLAIR/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FLAIR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_sets/LOOP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LOOP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_sets/T1DEXI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DExi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_sets/T1DEXIP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T1DEXIP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_sets/REPLACE_BG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Replace BG
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="recommendations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Better Datasets
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Toolbox Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Toolbox Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="checklist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Study Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Pracitces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="python-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Environments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribute
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="snippets/license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#challenges-with-publicly-available-clinical-trial-data" class="md-nav__link">
    <span class="md-ellipsis">
      Challenges with Publicly Available Clinical Trial Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#last-mile-problem" class="md-nav__link">
    <span class="md-ellipsis">
      Last Mile Problem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-studies" class="md-nav__link">
    <span class="md-ellipsis">
      Supported Studies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-contribute" class="md-nav__link">
    <span class="md-ellipsis">
      How to Contribute
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-features-of-the-toolbox" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features of the Toolbox
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Features of the Toolbox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-standardization" class="md-nav__link">
    <span class="md-ellipsis">
      Data Standardization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-babelbetes-quickstart" class="md-nav__link">
    <span class="md-ellipsis">
      How to use BabelBetes (Quickstart)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to use BabelBetes (Quickstart)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-python" class="md-nav__link">
    <span class="md-ellipsis">
      Setup Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-the-raw-data" class="md-nav__link">
    <span class="md-ellipsis">
      Prepare the raw data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-run_functionspy-to-batch-extract-data" class="md-nav__link">
    <span class="md-ellipsis">
      Run run_functions.py to batch Extract data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-times" class="md-nav__link">
    <span class="md-ellipsis">
      Execution Times
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="babelbetes">BabelBetes</h1>
<p>The BabelBetes project aims to standardize publicly available clinical trial data on continuous glucose monitoring (CGM) and insulin pump delivery, reducing the costs and time associated with data translation for researchers. Motivated by the challenges of inconsistent data formats, BabelBetes will streamline access to usable datasets, accelerating innovation in type 1 diabetes care.​</p>
<h3 id="challenges-with-publicly-available-clinical-trial-data">Challenges with Publicly Available Clinical Trial Data</h3>
<p>Data is the raw material from which models are developed, simulations are composed, and new therapies to reduce the burden of living with type 1 diabetes are developed.</p>
<p>Clinical trials performed at great time and expense, funded by Breakthrough T1D, HCT, and NIH have provided large volumes of granular data which is often stored publicly (www.jaeb.org) or otherwise readily accessible (OPEN Project, OpenAPS, Nightscout Data Commons).</p>
<p>Unfortunately this is often the only data available to researchers and developers seeking to provide innovative solutions for people with type 1 diabetes, putting them at great disadvantage relative to leading medical device companies who together gather more data per day than exists in the entire public domain, ever (approximately 500,000 subject-days).</p>
<p>To add to this, public available data is not stored with consistent methods or formats, resulting in a confusing array of file formats and data descriptors which must be translated at great effort and with high probability of error by each and every researcher or developer hoping to gain insights.</p>
<h3 id="last-mile-problem">Last Mile Problem</h3>
<p>Babelbetes addresses this “last mile” problem by developing a publicly available set of tools to normalize clinical diabetes trial datasets, focusing on continuous glucose monitoring and insulin pump delivery. Babelbetes also provides recommendations on a normalized data set format to ensure future activities provide shovel-ready data for researchers and developers.</p>
<p>This is the <a href="https://nudgebg.github.io/egvinsulin">official project documentation</a></p>
<h2 id="supported-studies">Supported Studies</h2>
<p>The goal is to work with as many clinical diabetes trial datasets as possible. At the moment, the following datasets from the diabetes <a href="https://public.jaeb.org/datasets/diabetes">JAEB database</a> are supported. </p>
<p>For each of these studies, we've spent hundreds of hours analyzing the data to ensure that the class correctly loads and extracts the data. Please refer to the study analysis pages for a summary of the analysis and findings that went into each dataset. While we operated with great care, some asumptions had to be made and other details remain unknown which are also documented.</p>
<table>
<thead>
<tr>
<th><strong>Analysis &amp; Documentation</strong></th>
<th>Link</th>
<th>Retrieval Date</th>
<th>Folder Name *</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="data_sets/FLAIR/">Flair</a></td>
<td><a href="https://public.jaeb.org/dataset/566">JAEB</a></td>
<td>April 17th, 2024</td>
<td>FLAIRPublicDataSet</td>
<td>In the newest version (September, 2024) JAEB insulin pump data was removed from the study dataset.</td>
</tr>
<tr>
<td><a href="data_sets/DCLP3/">DCLP3</a></td>
<td><a href="https://public.jaeb.org/dataset/573">JAEB</a></td>
<td>April 17th, 2024</td>
<td>DCLP3 Public Dataset - Release 3 - 2022-08-04</td>
<td>-</td>
</tr>
<tr>
<td><a href="data_sets/DCLP5/">DCLP5</a></td>
<td><a href="https://public.jaeb.org/dataset/535">JAEB</a></td>
<td>April 17th, 2024</td>
<td>DCLP5_Dataset_2022-01-20-5e0f3b16-c890-4ace-9e3b-531f3687cf53</td>
<td>-</td>
</tr>
<tr>
<td><a href="data_sets/IOBP2/">IOBP2</a></td>
<td><a href="https://public.jaeb.org/dataset/579">JAEB</a></td>
<td>April 17th, 2024</td>
<td>IOBP2 RCT Public Dataset</td>
<td>-</td>
</tr>
<tr>
<td><a href="data_sets/PEDAP/">PEDAP</a></td>
<td><a href="https://public.jaeb.org/dataset/599">JAEB</a></td>
<td>September, 26th, 2024</td>
<td>PEDAP Public Dataset - Release 3 - 2024-09-25</td>
<td>Our investigation resulted in this updated version with corrected patient ids.</td>
</tr>
<tr>
<td><a href="data_sets/T1DEXI/">T1DEXI</a></td>
<td><a href="https://public.jaeb.org/dataset/589">JAEB</a></td>
<td>October 1st, 2022</td>
<td>T1DEXI</td>
<td>Currently, the toolbox requires all datatables to be extracted and be placed in the T1DEXI folder</td>
</tr>
<tr>
<td><a href="data_sets/T1DEXIP/">T1DEXIP</a></td>
<td><a href="https://public.jaeb.org/dataset/590">JAEB</a></td>
<td>March 16th, 2023</td>
<td>T1DEXIP</td>
<td>Currently, the toolbox requires all datatables to be extracted and be placed in the the T1DEXIP folder</td>
</tr>
<tr>
<td><a href="data_sets/REPLACE_BG/">REPLACE BG</a></td>
<td><a href="https://public.jaeb.org/dataset/546">JAEB</a></td>
<td>February 2nd, 2025</td>
<td>REPLACE-BG Dataset-79f6bdc8-3c51-4736-a39f-c4c0f71d45e5</td>
<td>The currently hosted version misses the Basal file.</td>
</tr>
<tr>
<td><a href="data_sets/LOOP/">Loop</a></td>
<td><a href="https://public.jaeb.org/dataset/560">JAEB</a></td>
<td>September 2nd, 2024</td>
<td>Loop study public dataset 2023-01-31</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>* We have only tested our code on the respective versions. Therefore, the folder names are currently hard-coded and should match with the names above</p>
<h2 id="how-to-contribute">How to Contribute</h2>
<p>BabelBetes was funded to be freely available, helping researchers and companies save costs and time, and supercharge innovation in diabetes care. </p>
<p>We’re incredibly excited for contributions that will expand its functionality and support even more datasets, making a bigger impact than ever before! </p>
<p>Learn more about <a href="contribute/">how to contribute</a>.</p>
<h2 id="key-features-of-the-toolbox">Key Features of the Toolbox</h2>
<p><strong>1. Analaysis scripts and and documentation</strong>: You can learn about the datasets and what challenges came with normalizing tem by consulting the dataset summaries. You might also consult and review the jupyter notebooks that document our analysis.</p>
<p><strong>2. Python modules</strong>: You can use the python modules to extract standardized continuous glucose monitor (CGM) and insulin pump data from the supported study datasets. Reuse the helper and drawing functions to work with the data.
  - Extend the functionality of existing study classes or add new implementations of the StudyDataset base class to support additional study datasets. </p>
<p><strong>3. Recommendations</strong>: As guidance for investigators, we've summarized our learnings and challanges in a list of recommendations that we believe would dramatically improve the quality and usability of datasets published in the future.</p>
<h3 id="data-standardization">Data Standardization</h3>
<p>The ultimate purpose of this toolbox is to bring CGM and insulin data into a common standardized format. We chose to abstract study datasets as objects. Each study class derives from the parent <code>StudyDataset</code> class and overrides methods to extract cgm, bolus and basal data. The StudyDataset base class defineds methods to extract cgm, basal and bolus data in standardized pandas dataframes.</p>
<p><img alt="" src="assets/classes_Studies.svg" /></p>
<p>For example, the bolus dataframe obtained with <code>extract_bolus_event_history()</code> has this format:</p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>patient_id</code></td>
<td><code>str</code></td>
<td>Patient ID</td>
</tr>
<tr>
<td><code>datetime</code></td>
<td><code>pd.Timestamp</code></td>
<td>Datetime of the bolus event</td>
</tr>
<tr>
<td><code>bolus</code></td>
<td><code>float</code></td>
<td>Actual delivered bolus amount in units</td>
</tr>
<tr>
<td><code>delivery_duration</code></td>
<td><code>pd.Timedelta</code></td>
<td>Duration of the bolus delivery</td>
</tr>
</tbody>
</table>
<p>refer to the <a href="./reference/#studies.studydataset.StudyDataset">Code Reference</a> for more details.</p>
<h2 id="how-to-use-babelbetes-quickstart">How to use BabelBetes (Quickstart)</h2>
<p>Here, we explain how to install the toolbox and how to use the <code>run_functions.py</code> script that batch processes all studies and extracts the standardized data.</p>
<h3 id="setup-python">Setup Python</h3>
<ul>
<li>Make sure you have python version &gt; 3.X installed.</li>
<li>We recommend using a python virtual environment (see <a href="python-setup/">using vitual environments</a>)</li>
</ul>
<h3 id="installation">Installation</h3>
<ol>
<li><strong>Clone the repository:</strong>
    <code>sh
    git clone git@github.com:nudgebg/egvinsulin.git</code></li>
<li>Install all dependencies</li>
<li>In your terminal, navigate to the repository</li>
<li>(Optional) activate your python virtual environment </li>
<li>Run this command to install all packages required by BabelBetes</li>
</ol>
<pre><code class="language-bash">pip install -r requirements.txt
</code></pre>
<h3 id="prepare-the-raw-data">Prepare the raw data</h3>
<ol>
<li>Download the study data zip files from <a href="https://public.jaeb.org/datasets/diabetes">jaeb.org</a> (see <a href="#supported-studies">supported studies</a>).</li>
<li>Extract and move the folders inside the <code>data/raw</code> directory. Do not rename the folder names, otherwise the <code>run_functions.py</code> won't know how to process them.</li>
<li>Depending on which studies you downloaded, the folder structure should look something like this.</li>
</ol>
<pre><code>    egvinsulin/
    ├── data/
    │   └── raw/
    │       └── FLAIRPublicDataSet
    │       └── DCLP3 Public Dataset - Release 3 - 2022-08-04
    │       └── IOBP2 RCT Public Dataset
    └── run_functions.py
</code></pre>
<h3 id="run-run_functionspy-to-batch-extract-data">Run run_functions.py to batch Extract data</h3>
<p>The <code>run_functions.py</code> script is the entry point for users that simply want to extract standardized data from the supported studies. It performs data extraction and standarization. For each folder in the <code>data/raw</code> directory the script: 
 1. Identifies the appropriate handler class (see <a href="#supported-studies">supported studies</a>)
 2. Loads the study data
 3. Extracts bolus, basal, and CGM event histories to a standardized Format (see <a href="#data-standardization">data standardization</a>)
 4. Saves the extracted data in CSV format. </p>
<p>Example terminal output:</p>
<pre><code class="language-bash">&gt; python run_functions.py
[15:26:22] Looking for study folders in /data/raw and saving results to /data/out
[15:26:22] Start processing supported study folders:
[15:26:22] 'T1DEXI' using T1DEXI class
[15:26:22] 'REPLACE-BG Dataset-79f6bdc8-3c51-4736-a39f-c4c0f71d45e5' using ReplaceBG class
...
[15:26:22] Processing T1DEXI ...
[15:26:56] [x] Data loaded
[15:26:56] [x] Boluses extracted
[15:27:00] [x] Basal extracted
[15:27:12] [x] CGM extracted
[15:27:12] T1DEXI completed in 49.96 seconds.
...
Processing complete.
</code></pre>
<h3 id="execution-times">Execution Times</h3>
<p>These are approximate execution times   </p>
<table>
<thead>
<tr>
<th></th>
<th>MacBook Pro M3</th>
</tr>
</thead>
<tbody>
<tr>
<td>Flair</td>
<td>97.80 seconds</td>
</tr>
<tr>
<td>IOBP2</td>
<td>103.07 seconds</td>
</tr>
<tr>
<td>PEDAP</td>
<td>35.07 seconds</td>
</tr>
<tr>
<td>DCLP3</td>
<td>36.16 seconds</td>
</tr>
<tr>
<td>DCLP5</td>
<td>54.64 seconds</td>
</tr>
<tr>
<td>T1DEXI</td>
<td>49.96 seconds</td>
</tr>
<tr>
<td>T1DEXIP</td>
<td>9.99 seconds</td>
</tr>
<tr>
<td>Replace BG</td>
<td>61.38 seconds</td>
</tr>
<tr>
<td>Loop</td>
<td>587.22 seconds*</td>
</tr>
</tbody>
</table>
<p>* Loop raw data files are very large which requires the use of <code>dask</code>. <code>dask</code> builds upon pandas and processes chunks of the data in parallel. However, the routine to save the data to csv - at the moment - still requires the whole dataframe to be loaded before storing it which might fail if your machine has insufficient memory. We will change this in the future.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<ul>
<li>Ensure the raw data folders are named correctly to match the patterns in the script. You shouldn't need to rename the folders after you extracted the study datasets from jaeb.</li>
<li>Check the console output for any warning or error messages.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>